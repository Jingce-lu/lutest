<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTML小实验：用代码分析HTML标准 | Lu notes</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel=" " href=" ">
    <meta name="description" content=" ">
    <link rel="preload" href="/lutest/assets/css/0.styles.00f0fbde.css" as="style"><link rel="preload" href="/lutest/assets/js/app.618aebc9.js" as="script"><link rel="preload" href="/lutest/assets/js/3.8fcedd8d.js" as="script"><link rel="preload" href="/lutest/assets/js/4.4841ff63.js" as="script"><link rel="preload" href="/lutest/assets/js/125.74856b0b.js" as="script"><link rel="prefetch" href="/lutest/assets/js/1.4cacbe98.js"><link rel="prefetch" href="/lutest/assets/js/10.f1f098f5.js"><link rel="prefetch" href="/lutest/assets/js/100.0a1ea1db.js"><link rel="prefetch" href="/lutest/assets/js/101.3aaa21b7.js"><link rel="prefetch" href="/lutest/assets/js/102.e540bc4c.js"><link rel="prefetch" href="/lutest/assets/js/103.f81cc9cb.js"><link rel="prefetch" href="/lutest/assets/js/104.b4758497.js"><link rel="prefetch" href="/lutest/assets/js/105.ec7d4d3a.js"><link rel="prefetch" href="/lutest/assets/js/106.87f6daa6.js"><link rel="prefetch" href="/lutest/assets/js/107.7bc79678.js"><link rel="prefetch" href="/lutest/assets/js/108.a16cca5b.js"><link rel="prefetch" href="/lutest/assets/js/109.d4a01ffd.js"><link rel="prefetch" href="/lutest/assets/js/11.4748fc8a.js"><link rel="prefetch" href="/lutest/assets/js/110.ab8ca979.js"><link rel="prefetch" href="/lutest/assets/js/111.c25faf25.js"><link rel="prefetch" href="/lutest/assets/js/112.e1795cbc.js"><link rel="prefetch" href="/lutest/assets/js/113.e7ca96a7.js"><link rel="prefetch" href="/lutest/assets/js/114.a28598ea.js"><link rel="prefetch" href="/lutest/assets/js/115.e15aa72c.js"><link rel="prefetch" href="/lutest/assets/js/116.420e8c64.js"><link rel="prefetch" href="/lutest/assets/js/117.ba3b152c.js"><link rel="prefetch" href="/lutest/assets/js/118.279fb945.js"><link rel="prefetch" href="/lutest/assets/js/119.fdab372b.js"><link rel="prefetch" href="/lutest/assets/js/12.23dcb52e.js"><link rel="prefetch" href="/lutest/assets/js/120.927025cd.js"><link rel="prefetch" href="/lutest/assets/js/121.f4147392.js"><link rel="prefetch" href="/lutest/assets/js/122.56a5319c.js"><link rel="prefetch" href="/lutest/assets/js/123.db5470f1.js"><link rel="prefetch" href="/lutest/assets/js/124.693b01a6.js"><link rel="prefetch" href="/lutest/assets/js/126.d65925d1.js"><link rel="prefetch" href="/lutest/assets/js/127.7b4d26f4.js"><link rel="prefetch" href="/lutest/assets/js/128.b6ecc6dd.js"><link rel="prefetch" href="/lutest/assets/js/129.9f87d704.js"><link rel="prefetch" href="/lutest/assets/js/13.ce60e988.js"><link rel="prefetch" href="/lutest/assets/js/130.712e5a5c.js"><link rel="prefetch" href="/lutest/assets/js/131.519ba438.js"><link rel="prefetch" href="/lutest/assets/js/132.c537ec0c.js"><link rel="prefetch" href="/lutest/assets/js/133.f41e6f3e.js"><link rel="prefetch" href="/lutest/assets/js/134.1a7f7948.js"><link rel="prefetch" href="/lutest/assets/js/135.65b3e9e5.js"><link rel="prefetch" href="/lutest/assets/js/136.ce0eff5f.js"><link rel="prefetch" href="/lutest/assets/js/137.5550ad8e.js"><link rel="prefetch" href="/lutest/assets/js/138.b524fc0b.js"><link rel="prefetch" href="/lutest/assets/js/139.0fbaa4d1.js"><link rel="prefetch" href="/lutest/assets/js/14.91d797b2.js"><link rel="prefetch" href="/lutest/assets/js/140.776dce06.js"><link rel="prefetch" href="/lutest/assets/js/141.814342cd.js"><link rel="prefetch" href="/lutest/assets/js/142.41523cb3.js"><link rel="prefetch" href="/lutest/assets/js/143.8595a538.js"><link rel="prefetch" href="/lutest/assets/js/144.e6dd1e2e.js"><link rel="prefetch" href="/lutest/assets/js/145.ca8c0da0.js"><link rel="prefetch" href="/lutest/assets/js/146.9d0c3804.js"><link rel="prefetch" href="/lutest/assets/js/147.7c19751a.js"><link rel="prefetch" href="/lutest/assets/js/148.f31f6684.js"><link rel="prefetch" href="/lutest/assets/js/149.8102e4eb.js"><link rel="prefetch" href="/lutest/assets/js/15.fb48b6d0.js"><link rel="prefetch" href="/lutest/assets/js/150.bbcfec73.js"><link rel="prefetch" href="/lutest/assets/js/151.d962ed80.js"><link rel="prefetch" href="/lutest/assets/js/152.5027e767.js"><link rel="prefetch" href="/lutest/assets/js/153.08fa2990.js"><link rel="prefetch" href="/lutest/assets/js/154.4eeb9689.js"><link rel="prefetch" href="/lutest/assets/js/155.364287db.js"><link rel="prefetch" href="/lutest/assets/js/156.4c95dfd7.js"><link rel="prefetch" href="/lutest/assets/js/157.ae353c9a.js"><link rel="prefetch" href="/lutest/assets/js/158.a12af4e2.js"><link rel="prefetch" href="/lutest/assets/js/159.bf976eca.js"><link rel="prefetch" href="/lutest/assets/js/16.9f7bb8a2.js"><link rel="prefetch" href="/lutest/assets/js/160.7dc8e07c.js"><link rel="prefetch" href="/lutest/assets/js/161.3383c59a.js"><link rel="prefetch" href="/lutest/assets/js/162.c378588b.js"><link rel="prefetch" href="/lutest/assets/js/163.b808caf0.js"><link rel="prefetch" href="/lutest/assets/js/164.575d430a.js"><link rel="prefetch" href="/lutest/assets/js/165.83d800f1.js"><link rel="prefetch" href="/lutest/assets/js/166.7c754f00.js"><link rel="prefetch" href="/lutest/assets/js/167.95659553.js"><link rel="prefetch" href="/lutest/assets/js/168.57b7128d.js"><link rel="prefetch" href="/lutest/assets/js/169.ea698952.js"><link rel="prefetch" href="/lutest/assets/js/17.8dc0aa26.js"><link rel="prefetch" href="/lutest/assets/js/170.a7096b62.js"><link rel="prefetch" href="/lutest/assets/js/171.f0a19aa2.js"><link rel="prefetch" href="/lutest/assets/js/172.95c2372d.js"><link rel="prefetch" href="/lutest/assets/js/173.91379b41.js"><link rel="prefetch" href="/lutest/assets/js/174.c7d2cf31.js"><link rel="prefetch" href="/lutest/assets/js/175.0431144a.js"><link rel="prefetch" href="/lutest/assets/js/176.05f91bc7.js"><link rel="prefetch" href="/lutest/assets/js/177.b9144182.js"><link rel="prefetch" href="/lutest/assets/js/178.d5bf1a21.js"><link rel="prefetch" href="/lutest/assets/js/179.a9721602.js"><link rel="prefetch" href="/lutest/assets/js/18.04273e9d.js"><link rel="prefetch" href="/lutest/assets/js/180.2f6057a8.js"><link rel="prefetch" href="/lutest/assets/js/181.90d8a5e2.js"><link rel="prefetch" href="/lutest/assets/js/182.9cc976d5.js"><link rel="prefetch" href="/lutest/assets/js/183.a51c59e4.js"><link rel="prefetch" href="/lutest/assets/js/184.3fb03238.js"><link rel="prefetch" href="/lutest/assets/js/185.b7b9031d.js"><link rel="prefetch" href="/lutest/assets/js/186.aa60b669.js"><link rel="prefetch" href="/lutest/assets/js/187.d7309c93.js"><link rel="prefetch" href="/lutest/assets/js/188.2994e685.js"><link rel="prefetch" href="/lutest/assets/js/189.36b033b2.js"><link rel="prefetch" href="/lutest/assets/js/19.d616612c.js"><link rel="prefetch" href="/lutest/assets/js/190.cfde696f.js"><link rel="prefetch" href="/lutest/assets/js/191.8d38ac1e.js"><link rel="prefetch" href="/lutest/assets/js/192.f9ec24fd.js"><link rel="prefetch" href="/lutest/assets/js/193.99866c7c.js"><link rel="prefetch" href="/lutest/assets/js/194.ce38e08c.js"><link rel="prefetch" href="/lutest/assets/js/195.c9b38faf.js"><link rel="prefetch" href="/lutest/assets/js/196.fef5af50.js"><link rel="prefetch" href="/lutest/assets/js/197.3fe5642e.js"><link rel="prefetch" href="/lutest/assets/js/198.5b108983.js"><link rel="prefetch" href="/lutest/assets/js/199.92e64ed7.js"><link rel="prefetch" href="/lutest/assets/js/20.97a9b121.js"><link rel="prefetch" href="/lutest/assets/js/200.8be7a63a.js"><link rel="prefetch" href="/lutest/assets/js/201.f43760e5.js"><link rel="prefetch" href="/lutest/assets/js/202.ab7a7641.js"><link rel="prefetch" href="/lutest/assets/js/203.234f21cd.js"><link rel="prefetch" href="/lutest/assets/js/204.bc8124fb.js"><link rel="prefetch" href="/lutest/assets/js/205.79828f60.js"><link rel="prefetch" href="/lutest/assets/js/206.637a914a.js"><link rel="prefetch" href="/lutest/assets/js/207.12118933.js"><link rel="prefetch" href="/lutest/assets/js/208.3c250c53.js"><link rel="prefetch" href="/lutest/assets/js/209.dd7e86c9.js"><link rel="prefetch" href="/lutest/assets/js/21.8e61bfc4.js"><link rel="prefetch" href="/lutest/assets/js/210.d09b6812.js"><link rel="prefetch" href="/lutest/assets/js/211.8fba89f2.js"><link rel="prefetch" href="/lutest/assets/js/212.039b7cde.js"><link rel="prefetch" href="/lutest/assets/js/213.a81e17d5.js"><link rel="prefetch" href="/lutest/assets/js/214.9f81bdb7.js"><link rel="prefetch" href="/lutest/assets/js/215.115b00c6.js"><link rel="prefetch" href="/lutest/assets/js/216.8a956ab1.js"><link rel="prefetch" href="/lutest/assets/js/217.f754a03a.js"><link rel="prefetch" href="/lutest/assets/js/218.19a2e89f.js"><link rel="prefetch" href="/lutest/assets/js/219.7a101822.js"><link rel="prefetch" href="/lutest/assets/js/22.f385727b.js"><link rel="prefetch" href="/lutest/assets/js/220.76b3ab6f.js"><link rel="prefetch" href="/lutest/assets/js/221.0db2b65c.js"><link rel="prefetch" href="/lutest/assets/js/222.fb272862.js"><link rel="prefetch" href="/lutest/assets/js/223.02ec196d.js"><link rel="prefetch" href="/lutest/assets/js/224.aa66a95c.js"><link rel="prefetch" href="/lutest/assets/js/225.fc7f404d.js"><link rel="prefetch" href="/lutest/assets/js/226.5db97f5f.js"><link rel="prefetch" href="/lutest/assets/js/227.90e17e14.js"><link rel="prefetch" href="/lutest/assets/js/228.7b398e53.js"><link rel="prefetch" href="/lutest/assets/js/229.ae609ae5.js"><link rel="prefetch" href="/lutest/assets/js/23.5037f669.js"><link rel="prefetch" href="/lutest/assets/js/230.c01e3da3.js"><link rel="prefetch" href="/lutest/assets/js/231.910df34c.js"><link rel="prefetch" href="/lutest/assets/js/232.5b4c1445.js"><link rel="prefetch" href="/lutest/assets/js/233.bc003d88.js"><link rel="prefetch" href="/lutest/assets/js/234.1c542864.js"><link rel="prefetch" href="/lutest/assets/js/235.2d31b65f.js"><link rel="prefetch" href="/lutest/assets/js/236.00ac7c82.js"><link rel="prefetch" href="/lutest/assets/js/237.b47787c6.js"><link rel="prefetch" href="/lutest/assets/js/238.bc98715a.js"><link rel="prefetch" href="/lutest/assets/js/239.d61ddff8.js"><link rel="prefetch" href="/lutest/assets/js/24.fb83a0ab.js"><link rel="prefetch" href="/lutest/assets/js/240.90ef0a0c.js"><link rel="prefetch" href="/lutest/assets/js/241.8e5204d7.js"><link rel="prefetch" href="/lutest/assets/js/25.9d80dac9.js"><link rel="prefetch" href="/lutest/assets/js/26.dfc708a4.js"><link rel="prefetch" href="/lutest/assets/js/27.cbb272b7.js"><link rel="prefetch" href="/lutest/assets/js/28.90aa9dcf.js"><link rel="prefetch" href="/lutest/assets/js/29.57b4e890.js"><link rel="prefetch" href="/lutest/assets/js/30.505cfd61.js"><link rel="prefetch" href="/lutest/assets/js/31.2a11ca74.js"><link rel="prefetch" href="/lutest/assets/js/32.69e3e68e.js"><link rel="prefetch" href="/lutest/assets/js/33.a316679b.js"><link rel="prefetch" href="/lutest/assets/js/34.61bfa581.js"><link rel="prefetch" href="/lutest/assets/js/35.1b360acb.js"><link rel="prefetch" href="/lutest/assets/js/36.89a547e9.js"><link rel="prefetch" href="/lutest/assets/js/37.33c8d17a.js"><link rel="prefetch" href="/lutest/assets/js/38.0b7a0fbd.js"><link rel="prefetch" href="/lutest/assets/js/39.7ddcdb06.js"><link rel="prefetch" href="/lutest/assets/js/40.fec46c3b.js"><link rel="prefetch" href="/lutest/assets/js/41.08ee78b5.js"><link rel="prefetch" href="/lutest/assets/js/42.63363684.js"><link rel="prefetch" href="/lutest/assets/js/43.284f6af8.js"><link rel="prefetch" href="/lutest/assets/js/44.0d460f32.js"><link rel="prefetch" href="/lutest/assets/js/45.fb06b8cb.js"><link rel="prefetch" href="/lutest/assets/js/46.4e83da1d.js"><link rel="prefetch" href="/lutest/assets/js/47.d7411179.js"><link rel="prefetch" href="/lutest/assets/js/48.65096271.js"><link rel="prefetch" href="/lutest/assets/js/49.90e57bef.js"><link rel="prefetch" href="/lutest/assets/js/5.496ea072.js"><link rel="prefetch" href="/lutest/assets/js/50.d18d7027.js"><link rel="prefetch" href="/lutest/assets/js/51.f9eaba15.js"><link rel="prefetch" href="/lutest/assets/js/52.9017bef7.js"><link rel="prefetch" href="/lutest/assets/js/53.d28333f2.js"><link rel="prefetch" href="/lutest/assets/js/54.28bea5bb.js"><link rel="prefetch" href="/lutest/assets/js/55.2a893437.js"><link rel="prefetch" href="/lutest/assets/js/56.1e3cc532.js"><link rel="prefetch" href="/lutest/assets/js/57.41669988.js"><link rel="prefetch" href="/lutest/assets/js/58.b57efe44.js"><link rel="prefetch" href="/lutest/assets/js/59.77bda03d.js"><link rel="prefetch" href="/lutest/assets/js/6.a6b1060b.js"><link rel="prefetch" href="/lutest/assets/js/60.97e30cd3.js"><link rel="prefetch" href="/lutest/assets/js/61.9c5d90ed.js"><link rel="prefetch" href="/lutest/assets/js/62.0661d31f.js"><link rel="prefetch" href="/lutest/assets/js/63.c8f29a04.js"><link rel="prefetch" href="/lutest/assets/js/64.1d93c124.js"><link rel="prefetch" href="/lutest/assets/js/65.737dfd20.js"><link rel="prefetch" href="/lutest/assets/js/66.ad282767.js"><link rel="prefetch" href="/lutest/assets/js/67.78b5943e.js"><link rel="prefetch" href="/lutest/assets/js/68.02c97e55.js"><link rel="prefetch" href="/lutest/assets/js/69.257c60a3.js"><link rel="prefetch" href="/lutest/assets/js/7.3426c532.js"><link rel="prefetch" href="/lutest/assets/js/70.0b0eef60.js"><link rel="prefetch" href="/lutest/assets/js/71.1f97182e.js"><link rel="prefetch" href="/lutest/assets/js/72.37716503.js"><link rel="prefetch" href="/lutest/assets/js/73.39d19de1.js"><link rel="prefetch" href="/lutest/assets/js/74.32ff6d46.js"><link rel="prefetch" href="/lutest/assets/js/75.6f4ef962.js"><link rel="prefetch" href="/lutest/assets/js/76.2a72b003.js"><link rel="prefetch" href="/lutest/assets/js/77.a221b502.js"><link rel="prefetch" href="/lutest/assets/js/78.8fc951d2.js"><link rel="prefetch" href="/lutest/assets/js/79.260cbd35.js"><link rel="prefetch" href="/lutest/assets/js/8.047d12ca.js"><link rel="prefetch" href="/lutest/assets/js/80.2c26f712.js"><link rel="prefetch" href="/lutest/assets/js/81.d3eb10d0.js"><link rel="prefetch" href="/lutest/assets/js/82.bdfc9c5d.js"><link rel="prefetch" href="/lutest/assets/js/83.52c07944.js"><link rel="prefetch" href="/lutest/assets/js/84.3103b712.js"><link rel="prefetch" href="/lutest/assets/js/85.db52aa38.js"><link rel="prefetch" href="/lutest/assets/js/86.2468541a.js"><link rel="prefetch" href="/lutest/assets/js/87.02ef3678.js"><link rel="prefetch" href="/lutest/assets/js/88.23d8b5e5.js"><link rel="prefetch" href="/lutest/assets/js/89.2944e4cf.js"><link rel="prefetch" href="/lutest/assets/js/9.7845f204.js"><link rel="prefetch" href="/lutest/assets/js/90.c732a007.js"><link rel="prefetch" href="/lutest/assets/js/91.5e90d732.js"><link rel="prefetch" href="/lutest/assets/js/92.6e7a550c.js"><link rel="prefetch" href="/lutest/assets/js/93.99e9a0de.js"><link rel="prefetch" href="/lutest/assets/js/94.98b3ef39.js"><link rel="prefetch" href="/lutest/assets/js/95.04ec1bda.js"><link rel="prefetch" href="/lutest/assets/js/96.9261b5d3.js"><link rel="prefetch" href="/lutest/assets/js/97.71029e14.js"><link rel="prefetch" href="/lutest/assets/js/98.acbd5440.js"><link rel="prefetch" href="/lutest/assets/js/99.9f765b65.js">
    <link rel="stylesheet" href="/lutest/assets/css/0.styles.00f0fbde.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lutest/" class="home-link router-link-active"><!----> <span class="site-name">Lu notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lutest/" class="nav-link">首页</a></div><div class="nav-item"><a href="/lutest/prepare/" class="nav-link">Prepare</a></div><div class="nav-item"><a href="/lutest/js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/lutest/collection/" class="nav-link">Collection</a></div><div class="nav-item"><a href="/lutest/brochure/" class="nav-link router-link-active">技术小册</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lutest/" class="nav-link">首页</a></div><div class="nav-item"><a href="/lutest/prepare/" class="nav-link">Prepare</a></div><div class="nav-item"><a href="/lutest/js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/lutest/collection/" class="nav-link">Collection</a></div><div class="nav-item"><a href="/lutest/brochure/" class="nav-link router-link-active">技术小册</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/React：设计模式和最佳实践/" class="sidebar-heading clickable"><span>React：设计模式和最佳实践</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/Vue.js组件精讲/" class="sidebar-heading clickable"><span>Vue.js组件精讲</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/Vue3.0前瞻/" class="sidebar-heading clickable"><span>Vue3.0前瞻</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/中高级前端必备知识/" class="sidebar-heading clickable"><span>中高级前端必备知识</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/前端性能优化原理与实践/" class="sidebar-heading clickable"><span>前端性能优化原理与实践</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/趣谈Linux/" class="sidebar-heading clickable"><span>趣谈Linux</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/重学前端/" class="sidebar-heading clickable open"><span>重学前端</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/lutest/brochure/重学前端/01-开篇词-从今天起，重新理解前端.html" class="sidebar-link">01-开篇词-从今天起，重新理解前端</a></li><li><a href="/lutest/brochure/重学前端/02-明确你的前端学习路线与方法.html" class="sidebar-link">02-明确你的前端学习路线与方法</a></li><li><a href="/lutest/brochure/重学前端/03-列一份前端知识架构图.html" class="sidebar-link">03-列一份前端知识架构图</a></li><li><a href="/lutest/brochure/重学前端/04-JavaScript类型：关于类型，有哪些你不知道的细节？.html" class="sidebar-link">04-JavaScript类型：关于类型，有哪些你不知道的细节？</a></li><li><a href="/lutest/brochure/重学前端/05-JavaScript对象：面向对象还是基于对象？.html" class="sidebar-link">05-JavaScript对象：面向对象还是基于对象？</a></li><li><a href="/lutest/brochure/重学前端/06-JavaScript对象：我们真的需要模拟类吗？.html" class="sidebar-link">06-JavaScript对象：我们真的需要模拟类吗？</a></li><li><a href="/lutest/brochure/重学前端/07-JavaScript对象：你知道全部的对象分类吗？.html" class="sidebar-link">07-JavaScript对象：你知道全部的对象分类吗？</a></li><li><a href="/lutest/brochure/重学前端/08-JavaScript执行（一）：Promise里的代码为什么比setTimeout先执行？.html" class="sidebar-link">08-JavaScript执行（一）：Promise里的代码为什么比setTimeout先执行？</a></li><li><a href="/lutest/brochure/重学前端/09-JavaScript执行（二）：闭包和执行上下文到底是怎么回事？.html" class="sidebar-link">09-JavaScript执行（二）：闭包和执行上下文到底是怎么回事？</a></li><li><a href="/lutest/brochure/重学前端/10-JavaScript执行（三）：你知道现在有多少种函数吗？.html" class="sidebar-link">10-JavaScript执行（三）：你知道现在有多少种函数吗？</a></li><li><a href="/lutest/brochure/重学前端/11-JavaScript执行（四）：try里面放return，finally还会执行吗？.html" class="sidebar-link">11-JavaScript执行（四）：try里面放return，finally还会执行吗？</a></li><li><a href="/lutest/brochure/重学前端/12-JavaScript词法：为什么12.toString会报错？.html" class="sidebar-link">12-JavaScript词法：为什么12.toString会报错？</a></li><li><a href="/lutest/brochure/重学前端/13-（小实验）理解编译原理：一个四则运算的解释器.html" class="sidebar-link">13-（小实验）理解编译原理：一个四则运算的解释器</a></li><li><a href="/lutest/brochure/重学前端/14-JavaScript语法（预备篇）：到底要不要写分号呢？.html" class="sidebar-link">14-JavaScript语法（预备篇）：到底要不要写分号呢？</a></li><li><a href="/lutest/brochure/重学前端/15-JavaScript语法（一）：在script标签写export为什么会抛错？.html" class="sidebar-link">15-JavaScript语法（一）：在script标签写export为什么会抛错？</a></li><li><a href="/lutest/brochure/重学前端/16-JavaScript语法（二）：你知道哪些JavaScript语句？.html" class="sidebar-link">16-JavaScript语法（二）：你知道哪些JavaScript语句？</a></li><li><a href="/lutest/brochure/重学前端/17-JavaScript语法（三）：什么是表达式语句？.html" class="sidebar-link">17-JavaScript语法（三）：什么是表达式语句？</a></li><li><a href="/lutest/brochure/重学前端/18-JavaScript语法（四）：新加入的__运算符，哪里有些不一样呢？.html" class="sidebar-link">18-JavaScript语法（四）：新加入的__运算符，哪里有些不一样呢？</a></li><li><a href="/lutest/brochure/重学前端/19-HTML语义：div和span不是够用了吗？.html" class="sidebar-link">19-HTML语义：div和span不是够用了吗？</a></li><li><a href="/lutest/brochure/重学前端/20-HTML语义：如何运用语义类标签来呈现Wiki网页？.html" class="sidebar-link">20-HTML语义：如何运用语义类标签来呈现Wiki网页？</a></li><li><a href="/lutest/brochure/重学前端/21-CSS语法：除了属性和选择器，你还需要知道这些带@的规则.html" class="sidebar-link">21-CSS语法：除了属性和选择器，你还需要知道这些带@的规则</a></li><li><a href="/lutest/brochure/重学前端/22-HTML元信息类标签：你知道head里一共能写哪几种标签吗？.html" class="sidebar-link">22-HTML元信息类标签：你知道head里一共能写哪几种标签吗？</a></li><li><a href="/lutest/brochure/重学前端/23-CSS 选择器：如何选中svg里的a元素？.html" class="sidebar-link">23-CSS 选择器：如何选中svg里的a元素？</a></li><li><a href="/lutest/brochure/重学前端/24-CSS选择器：伪元素是怎么回事儿？.html" class="sidebar-link">24-CSS选择器：伪元素是怎么回事儿？</a></li><li><a href="/lutest/brochure/重学前端/25-HTML链接：除了a标签，还有哪些标签叫链接？.html" class="sidebar-link">25-HTML链接：除了a标签，还有哪些标签叫链接？</a></li><li><a href="/lutest/brochure/重学前端/26-CSS排版：从毕升开始，我们就开始用正常流了？.html" class="sidebar-link">26-CSS排版：从毕升开始，我们就开始用正常流了？</a></li><li><a href="/lutest/brochure/重学前端/27-HTML替换型元素：为什么link一个CSS要用href，而引入js要用src呢？.html" class="sidebar-link">27-HTML替换型元素：为什么link一个CSS要用href，而引入js要用src呢？</a></li><li><a href="/lutest/brochure/重学前端/28-HTML小实验：用代码分析HTML标准？.html" class="active sidebar-link">28-HTML小实验：用代码分析HTML标准？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/lutest/brochure/重学前端/29-CSS Flex排版：为什么垂直居中这么难？.html" class="sidebar-link">29-CSS Flex排版：为什么垂直居中这么难？</a></li><li><a href="/lutest/brochure/重学前端/30-CSS动画与交互：为什么动画要用贝塞尔曲线这么奇怪的东西？.html" class="sidebar-link">30-CSS动画与交互：为什么动画要用贝塞尔曲线这么奇怪的东西？</a></li><li><a href="/lutest/brochure/重学前端/31-HTML语言：DTD到底是什么？.html" class="sidebar-link">31-HTML语言：DTD到底是什么？</a></li><li><a href="/lutest/brochure/重学前端/32-CSS渲染：CSS是如何绘制颜色的？.html" class="sidebar-link">32-CSS渲染：CSS是如何绘制颜色的？</a></li><li><a href="/lutest/brochure/重学前端/33-CSS小实验：动手做，用代码挖掘CSS属性.html" class="sidebar-link">33-CSS小实验：动手做，用代码挖掘CSS属性</a></li><li><a href="/lutest/brochure/重学前端/34-HTML·ARIA：可访问性是只给盲人用的特性么？.html" class="sidebar-link">34-HTML·ARIA：可访问性是只给盲人用的特性么？</a></li><li><a href="/lutest/brochure/重学前端/35-浏览器：一个浏览器是如何工作的？（阶段一）.html" class="sidebar-link">35-浏览器：一个浏览器是如何工作的？（阶段一）</a></li><li><a href="/lutest/brochure/重学前端/36-浏览器：一个浏览器是如何工作的？（阶段二）.html" class="sidebar-link">36-浏览器：一个浏览器是如何工作的？（阶段二）</a></li><li><a href="/lutest/brochure/重学前端/37-浏览器：一个浏览器是如何工作的（阶段三）.html" class="sidebar-link">37-浏览器：一个浏览器是如何工作的（阶段三）</a></li><li><a href="/lutest/brochure/重学前端/38-浏览器：一个浏览器是如何工作的？（阶段四）.html" class="sidebar-link">38-浏览器：一个浏览器是如何工作的？（阶段四）</a></li><li><a href="/lutest/brochure/重学前端/39-浏览器：一个浏览器是如何工作的？（阶段五）.html" class="sidebar-link">39-浏览器：一个浏览器是如何工作的？（阶段五）</a></li><li><a href="/lutest/brochure/重学前端/40-浏览器DOM：你知道HTML的节点有哪几种吗？.html" class="sidebar-link">40-浏览器DOM：你知道HTML的节点有哪几种吗？</a></li><li><a href="/lutest/brochure/重学前端/41-浏览器CSSOM：如何获取一个元素的准确位置.html" class="sidebar-link">41-浏览器CSSOM：如何获取一个元素的准确位置</a></li><li><a href="/lutest/brochure/重学前端/42-浏览器事件：为什么会有捕获过程和冒泡过程？.html" class="sidebar-link">42-浏览器事件：为什么会有捕获过程和冒泡过程？</a></li><li><a href="/lutest/brochure/重学前端/43-浏览器API（小实验）：动手整理全部API.html" class="sidebar-link">43-浏览器API（小实验）：动手整理全部API</a></li><li><a href="/lutest/brochure/重学前端/44-性能：前端的性能到底对业务数据有多大的影响？.html" class="sidebar-link">44-性能：前端的性能到底对业务数据有多大的影响？</a></li><li><a href="/lutest/brochure/重学前端/45-工具链：什么样的工具链才能提升团队效率？.html" class="sidebar-link">45-工具链：什么样的工具链才能提升团队效率？</a></li><li><a href="/lutest/brochure/重学前端/46-持续集成：几十个前端一起工作，如何保证工作质量？.html" class="sidebar-link">46-持续集成：几十个前端一起工作，如何保证工作质量？</a></li><li><a href="/lutest/brochure/重学前端/47-搭建系统：大量的低价值需求应该如何应对？.html" class="sidebar-link">47-搭建系统：大量的低价值需求应该如何应对？</a></li><li><a href="/lutest/brochure/重学前端/48-前端架构：前端架构有哪些核心问题？.html" class="sidebar-link">48-前端架构：前端架构有哪些核心问题？</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/零基础学透TypeScript/" class="sidebar-heading clickable"><span>零基础学透TypeScript</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="html小实验：用代码分析html标准"><a href="#html小实验：用代码分析html标准" class="header-anchor">#</a> HTML小实验：用代码分析HTML标准</h3> <p>你好，我是 winter。</p> <p>前面的课程中，我们已经讲解了大部分的 HTML 标签。</p> <p>然而，为了突出重点，我们还是会忽略一些标签类型。比如表单类标签和表格类标签，我认为只有少数前端工程师用过，比如我在整个手机淘宝的工作生涯中，一次表格类标签都没有用到，表单类则只用过 input，也只有几次。</p> <p>那么，剩下的标签我们怎么样去了解它们呢？当然是查阅 HTML 标准。</p> <p>由于阅读标准有一定门槛，需要了解一些机制，这节课，我为你设计了一个小实验，用 JavaScript 代码去抽取标准中我们需要的信息。</p> <h3 id="html-标准"><a href="#html-标准" class="header-anchor">#</a> HTML 标准</h3> <p>我们采用 WHATWG 的 living standard 标准，我们先来看看标准是如何描述一个标签的，这里我们看到，有下面这些内容。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>Categories:
    Flow content.
    Phrasing content.
    Embedded content.
    If the element has a controls attribute: Interactive content.
    Palpable content.
Contexts in which this element can be used:
    Where embedded content is expected.
Content model:
    If the element has a src attribute: zero or more track elements, then transparent, but with no media element descendants.
    If the element does not have a src attribute: zero or more source elements, then zero or more track elements, then transparent, but with no media element descendants.
Tag omission in text/html:
    Neither tag is omissible.
Content attributes:
    Global attributes
    src — Address of the resource
    crossorigin — How the element handles crossorigin requests
    poster — Poster frame to show prior to video playback
    preload — Hints how much buffering the media resource will likely need
    autoplay — Hint that the media resource can be started automatically when the page is loaded
    playsinline — Encourage the user agent to display video content within the element's playback area
    loop — Whether to loop the media resource
    muted — Whether to mute the media resource by default
    controls — Show user agent controls
    width — Horizontal dimension
    height — Vertical dimension
DOM interface:
    [Exposed=Window, HTMLConstructor]
    interface HTMLVideoElement : HTMLMediaElement {
        [CEReactions] attribute unsigned long width;
        [CEReactions] attribute unsigned long height;
        readonly attribute unsigned long videoWidth;
        readonly attribute unsigned long videoHeight;
        [CEReactions] attribute USVString poster;
        [CEReactions] attribute boolean playsInline;
    };
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>我们看到，这里的描述分为 6 个部分，有下面这些内容。</p> <ul><li>Categories：标签所属的分类。</li> <li>Contexts in which this element can be used：标签能够用在哪里。</li> <li>Content model：标签的内容模型。</li> <li>Tag omission in text/html：标签是否可以省略。</li> <li>Content attributes：内容属性。</li> <li>DOM interface：用 WebIDL 定义的元素类型接口。</li></ul> <p>这一节课，我们关注一下 Categories、Contexts in which this element can be used、Content model 这几个部分。我会带你从标准中抓取数据，做一个小工具，用来检查 X 标签是否能放入 Y 标签内。</p> <h3 id="代码角度分析-html-标准"><a href="#代码角度分析-html-标准" class="header-anchor">#</a> 代码角度分析 HTML 标准</h3> <p>HTML 标准描述用词非常的严谨，这给我们抓取数据带来了巨大的方便，首先，我们打开单页面版 HTML 标准：</p> <ul><li><a href="https://html.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">https://html.spec.whatwg.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>在这个页面上，我们执行一下以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token parameter">e</span><span class="token operator">=&gt;</span>e<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样我们就得到了所有元素的定义了，现在有 107 个元素。</p> <p>不过，比较尴尬的是，这些文本中并不包含元素名，我们只好从 id 属性中获取，最后代码类似这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> elementDefinations <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.element&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
text<span class="token operator">:</span>e<span class="token punctuation">.</span>innerText<span class="token punctuation">,</span>
name<span class="token operator">:</span>e<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/the\-([\s\S]+)\-element:/</span><span class="token punctuation">)</span><span class="token operator">?</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>接下来我们用代码理解一下这些文本。首先我们来分析一下这些文本，它分成了 6 个部分，而且顺序非常固定，这样，我们可以用 JavaScript 的正则表达式匹配来拆分六个字段。</p> <p>我们这个小实验的目标是计算元素之间的包含关系，因此，我们先关心一下 categories 和 contentModel 两个字段。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> defination <span class="token keyword">of</span> elementDefinations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>defination<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> categories <span class="token operator">=</span> defination<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Categories:\n([\s\S]+)\nContexts in which this element can be used:/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> category <span class="token keyword">of</span> categories<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>category<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*
    let contentModel = defination.text.match(/Content model:\n([\s\S]+)\nTag omission in text\/html:/)[1].split(&quot;\n&quot;);
    for(let line of contentModel)
    console.log(line);
    */</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>接下来我们来处理 category。</p> <p>首先 category 的写法中，最基本的就是直接描述了 category 的句子，我们把这些不带任何条件的 category 先保存起来，然后打印出来其它的描述看看：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> defination <span class="token keyword">of</span> elementDefinations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//console.log(defination.name + &quot;:&quot;)</span>
    <span class="token keyword">let</span> categories <span class="token operator">=</span> defination<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Categories:\n([\s\S]+)\nContexts in which this element can be used:/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    defination<span class="token punctuation">.</span>categories <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> category <span class="token keyword">of</span> categories<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>category<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^([^ ]+) content./</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        defination<span class="token punctuation">.</span>categories<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>category<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*
    let contentModel = defination.text.match(/Content model:\n([\s\S]+)\nTag omission in text\/html:/)[1].split(&quot;\n&quot;);
    for(let line of contentModel)
    console.log(line);
    */</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>这里我们要处理的第一个逻辑是带 if 的情况。</p> <p>然后我们来看看剩下的情况：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>None.
Sectioning root.
None.
Sectioning root.
None.
Form-associated element.
Listed and submittable form-associated element.
None.
Sectioning root.
None.
If the type attribute is not in the Hidden state: Listed, labelable, submittable, resettable, and autocapitalize-inheriting form-associated element.
If the type attribute is in the Hidden state: Listed, submittable, resettable, and autocapitalize-inheriting form-associated element.
Listed, labelable, submittable, and autocapitalize-inheriting form-associated element.
Listed, labelable, submittable, resettable, and autocapitalize-inheriting form-associated element.
None.
Listed, labelable, submittable, resettable, and autocapitalize-inheriting form-associated element.
Listed, labelable, resettable, and autocapitalize-inheriting form-associated element.
Labelable element.
Sectioning root.
Listed and autocapitalize-inheriting form-associated element.
None.
Sectioning root.
None.
Sectioning root.
Script-supporting element.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>这里出现了几个概念：</p> <ul><li>None</li> <li>Sectioning root</li> <li>Form-associated element</li> <li>Labelable element</li> <li>Script-supporting element</li></ul> <p>如果我们要真正完美地实现元素分类，就必须要在代码中加入正则表达式来解析这些规则，这里作为今天的课后问题，留给你自己完成。</p> <p>接下来我们看看 Content Model，我们照例先处理掉最简单点的部分，就是带分类的内容模型：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> defination <span class="token keyword">of</span> elementDefinations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//console.log(defination.name + &quot;:&quot;)</span>
    <span class="token keyword">let</span> categories <span class="token operator">=</span> defination<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Categories:\n([\s\S]+)\nContexts in which this element can be used:/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    defination<span class="token punctuation">.</span>contentModel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> contentModel <span class="token operator">=</span> defination<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Content model:\n([\s\S]+)\nTag omission in text\/html:/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> line <span class="token keyword">of</span> contentModel<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^([^ ]+) content./</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         defination<span class="token punctuation">.</span>contentModel<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>好了，我们照例看看剩下了什么：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>A head element followed by a body element.
If the document is an iframe srcdoc document or if title information is available from a higher-level protocol: Zero or more elements of metadata content, of which no more than one is a title element and no more than one is a base element.
Otherwise: One or more elements of metadata content, of which exactly one is a title element and no more than one is a base element.
Text that is not inter-element whitespace.
Nothing.
Text that gives a conformant style sheet.
One or more h1, h2, h3, h4, h5, h6 elements, optionally intermixed with script-supporting elements.
Nothing.
Zero or more li and script-supporting elements.
Either: Zero or more groups each consisting of one or more dt elements followed by one or more dd elements, optionally intermixed with script-supporting elements.
Or: One or more div elements, optionally intermixed with script-supporting elements.
Either: one figcaption element followed by flow content.
Or: flow content followed by one figcaption element.
Or: flow content.
If the element is a child of a dl element: one or more dt elements followed by one or more dd elements, optionally intermixed with script-supporting elements.
If the element is not a child of a dl element: flow content.
Transparent, but there must be no interactive content or a element descendants.
See prose.
Text.
If the element has a datetime attribute: Phrasing content.
Otherwise: Text, but must match requirements described in prose below.
Nothing.
Transparent.
Zero or more source elements, followed by one img element, optionally intermixed with script-supporting elements.
Nothing.
Zero or more param elements, then, transparent.
Nothing.
If the element has a src attribute: zero or more track elements, then transparent, but with no media element descendants.
If the element does not have a src attribute: zero or more source elements, then zero or more track elements, then transparent, but with no media element descendants.
If the element has a src attribute: zero or more track elements, then transparent, but with no media element descendants.
If the element does not have a src attribute: zero or more source elements, then zero or more track elements, then transparent, but with no media element descendants.
Nothing.
Transparent.
Nothing.
In this order: optionally a caption element, followed by zero or more colgroup elements, followed optionally by a thead element, followed by either zero or more tbody elements or one or more tr elements, followed optionally by a tfoot element, optionally intermixed with one or more script-supporting elements.
If the span attribute is present: Nothing.
If the span attribute is absent: Zero or more col and template elements.
Nothing.
Zero or more tr and script-supporting elements.
Zero or more td, th, and script-supporting elements.
Nothing.
Zero or more option, optgroup, and script-supporting elements.
Either: phrasing content.
Or: Zero or more option and script-supporting elements.
Zero or more option and script-supporting elements.
If the element has a label attribute and a value attribute: Nothing.
If the element has a label attribute but no value attribute: Text.
If the element has no label attribute and is not a child of a datalist element: Text that is not inter-element whitespace.
If the element has no label attribute and is a child of a datalist element: Text.
Text.
Optionally a legend element, followed by flow content.
One summary element followed by flow content.
Either: phrasing content.
Or: one element of heading content.
If there is no src attribute, depends on the value of the type attribute, but must match script content restrictions.
If there is a src attribute, the element must be either empty or contain only script documentation that also matches script content restrictions.
When scripting is disabled, in a head element: in any order, zero or more link elements, zero or more style elements, and zero or more meta elements.
When scripting is disabled, not in a head element: transparent, but there must be no noscript element descendants.
Otherwise: text that conforms to the requirements given in the prose.
Nothing (for clarification, see example).
Transparent
Transparent, but with no interactive content descendants except for a elements, img elements with usemap attributes, button elements, input elements whose type attribute are in the Checkbox or Radio Button states, input elements that are buttons, select elements with a multiple attribute or a display size greater than 1, and elements that would not be interactive content except for having the tabindex attribute specified.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>这有点复杂，我们还是把它做一些分类，首先我们过滤掉带 If 的情况、Text 和 Transparent。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> defination <span class="token keyword">of</span> elementDefinations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//console.log(defination.name + &quot;:&quot;)</span>
    <span class="token keyword">let</span> categories <span class="token operator">=</span> defination<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Categories:\n([\s\S]+)\nContexts in which this element can be used:/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    defination<span class="token punctuation">.</span>contentModel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> contentModel <span class="token operator">=</span> defination<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Content model:\n([\s\S]+)\nTag omission in text\/html:/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> line <span class="token keyword">of</span> contentModel<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/([^ ]+) content./</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            defination<span class="token punctuation">.</span>contentModel<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Nothing.|Transparent./</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>line<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^Text[\s\S]*.$/</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>这时候我们再来执行看看：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>A head element followed by a body element.
One or more h1, h2, h3, h4, h5, h6 elements, optionally intermixed with script-supporting elements.
Zero or more li and script-supporting elements.
Either: Zero or more groups each consisting of one or more dt elements followed by one or more dd elements, optionally intermixed with script-supporting elements.
Or: One or more div elements, optionally intermixed with script-supporting elements.
If the element is a child of a dl element: one or more dt elements followed by one or more dd elements, optionally intermixed with script-supporting elements.
See prose.
Otherwise: Text, but must match requirements described in prose below.
Zero or more source elements, followed by one img element, optionally intermixed with script-supporting elements.
Zero or more param elements, then, transparent.
If the element has a src attribute: zero or more track elements, then transparent, but with no media element descendants.
If the element does not have a src attribute: zero or more source elements, then zero or more track elements, then transparent, but with no media element descendants.
If the element has a src attribute: zero or more track elements, then transparent, but with no media element descendants.
If the element does not have a src attribute: zero or more source elements, then zero or more track elements, then transparent, but with no media element descendants.
In this order: optionally a caption element, followed by zero or more colgroup elements, followed optionally by a thead element, followed by either zero or more tbody elements or one or more tr elements, followed optionally by a tfoot element, optionally intermixed with one or more script-supporting elements.
If the span attribute is absent: Zero or more col and template elements.
Zero or more tr and script-supporting elements.
Zero or more td, th, and script-supporting elements.
Zero or more option, optgroup, and script-supporting elements.
Or: Zero or more option and script-supporting elements.
Zero or more option and script-supporting elements.
If the element has a label attribute but no value attribute: Text.
If the element has no label attribute and is not a child of a datalist element: Text that is not inter-element whitespace.
If the element has no label attribute and is a child of a datalist element: Text.
When scripting is disabled, in a head element: in any order, zero or more link elements, zero or more style elements, and zero or more meta elements.
When scripting is disabled, not in a head element: transparent, but there must be no noscript element descendants.
Otherwise: text that conforms to the requirements given in the prose.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>这下剩余的就少多了，我们可以看到，基本上剩下的都是直接描述可用的元素了，如果你愿意，还可以用代码进一步解析，不过如果是我的话，会选择手工把它们写成 JSON 了，毕竟只有三十多行文本。</p> <p>好了，有了 contentModel 和 category，我们要检查某一元素是否可以作为另一元素的子元素，就可以判断一下两边是否匹配啦，首先，我们要做个索引：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> dictionary <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> defination <span class="token keyword">of</span> elementDefinations<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dictionary<span class="token punctuation">[</span>defination<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> defination<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>然后我们编写一下我们的 check 函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token parameter">parent<span class="token punctuation">,</span> child</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> category <span class="token keyword">of</span> child<span class="token punctuation">.</span>categories<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>contentModel<span class="token punctuation">.</span>categories<span class="token punctuation">.</span><span class="token function">conatains</span><span class="token punctuation">(</span>category<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>contentModel<span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">conatains</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>这一节课，我们完成了一个小实验：利用工具分析 Web 标准文本，来获得元素的信息。</p> <p>通过这个实验，我希望能够传递一种思路，代码能够帮助我们从 Web 标准中挖掘出来很多想要的信息，编写代码的过程，也是更深入理解标准的契机。</p> <p>我们前面的课程中把元素分成了几类来讲解，但是这些分类只能大概地覆盖所有的标签，我设置课程的目标也是讲解标签背后的知识，而非每一种标签的细节。具体每一种标签的属性和细节，可以留给大家自己去整理。</p> <p>这一节课的产出，则是“绝对完整的标签列表”，也是我学习和阅读标准的小技巧，通过代码我们可以从不同的侧面分析标准的内容，挖掘需要注意的点，这是一种非常好的学习方法。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/lutest/brochure/重学前端/27-HTML替换型元素：为什么link一个CSS要用href，而引入js要用src呢？.html" class="prev">27-HTML替换型元素：为什么link一个CSS要用href，而引入js要用src呢？</a></span> <span class="next"><a href="/lutest/brochure/重学前端/29-CSS Flex排版：为什么垂直居中这么难？.html">29-CSS Flex排版：为什么垂直居中这么难？</a>
      →
    </span></p></div> </main> <span data-v-2ae0ee72></span></div><div class="global-ui"></div></div>
    <script src="/lutest/assets/js/app.618aebc9.js" defer></script><script src="/lutest/assets/js/3.8fcedd8d.js" defer></script><script src="/lutest/assets/js/4.4841ff63.js" defer></script><script src="/lutest/assets/js/125.74856b0b.js" defer></script>
  </body>
</html>
