<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TS中的类，小心它与ES标准的差异 | Lu notes</title>
    <meta name="generator" content="VuePress 1.8.1">
    <link rel=" " href=" ">
    <meta name="description" content=" ">
    
    <link rel="preload" href="/lutest/assets/css/0.styles.c5cda839.css" as="style"><link rel="preload" href="/lutest/assets/js/app.ebd1d23d.js" as="script"><link rel="preload" href="/lutest/assets/js/3.6f79f3df.js" as="script"><link rel="preload" href="/lutest/assets/js/4.2436b720.js" as="script"><link rel="preload" href="/lutest/assets/js/162.2932e118.js" as="script"><link rel="prefetch" href="/lutest/assets/js/1.1cc44110.js"><link rel="prefetch" href="/lutest/assets/js/10.2ff953e2.js"><link rel="prefetch" href="/lutest/assets/js/100.d21da0b1.js"><link rel="prefetch" href="/lutest/assets/js/101.baee6874.js"><link rel="prefetch" href="/lutest/assets/js/102.a131df4d.js"><link rel="prefetch" href="/lutest/assets/js/103.bc2d83c4.js"><link rel="prefetch" href="/lutest/assets/js/104.55aba83c.js"><link rel="prefetch" href="/lutest/assets/js/105.34f83aee.js"><link rel="prefetch" href="/lutest/assets/js/106.f9b9a8dd.js"><link rel="prefetch" href="/lutest/assets/js/107.fb75706f.js"><link rel="prefetch" href="/lutest/assets/js/108.8162cb52.js"><link rel="prefetch" href="/lutest/assets/js/109.335aec84.js"><link rel="prefetch" href="/lutest/assets/js/11.be8389d9.js"><link rel="prefetch" href="/lutest/assets/js/110.6783d72e.js"><link rel="prefetch" href="/lutest/assets/js/111.32296bb2.js"><link rel="prefetch" href="/lutest/assets/js/112.f605d6b5.js"><link rel="prefetch" href="/lutest/assets/js/113.9dfc15c2.js"><link rel="prefetch" href="/lutest/assets/js/114.c2dd4c1c.js"><link rel="prefetch" href="/lutest/assets/js/115.8961136d.js"><link rel="prefetch" href="/lutest/assets/js/116.4b9a4b76.js"><link rel="prefetch" href="/lutest/assets/js/117.4a60375f.js"><link rel="prefetch" href="/lutest/assets/js/118.313841c7.js"><link rel="prefetch" href="/lutest/assets/js/119.cba1f6de.js"><link rel="prefetch" href="/lutest/assets/js/12.ffe23520.js"><link rel="prefetch" href="/lutest/assets/js/120.07a8f28b.js"><link rel="prefetch" href="/lutest/assets/js/121.e5a6dee9.js"><link rel="prefetch" href="/lutest/assets/js/122.04b20843.js"><link rel="prefetch" href="/lutest/assets/js/123.20b5817c.js"><link rel="prefetch" href="/lutest/assets/js/124.4e3bc7c0.js"><link rel="prefetch" href="/lutest/assets/js/125.ba63819b.js"><link rel="prefetch" href="/lutest/assets/js/126.9eb167aa.js"><link rel="prefetch" href="/lutest/assets/js/127.78d35f1e.js"><link rel="prefetch" href="/lutest/assets/js/128.f814450d.js"><link rel="prefetch" href="/lutest/assets/js/129.9fa697d6.js"><link rel="prefetch" href="/lutest/assets/js/13.767ad5e3.js"><link rel="prefetch" href="/lutest/assets/js/130.255283ff.js"><link rel="prefetch" href="/lutest/assets/js/131.e0065cd8.js"><link rel="prefetch" href="/lutest/assets/js/132.04ec8e1a.js"><link rel="prefetch" href="/lutest/assets/js/133.e920aac4.js"><link rel="prefetch" href="/lutest/assets/js/134.82b32064.js"><link rel="prefetch" href="/lutest/assets/js/135.d6b4975f.js"><link rel="prefetch" href="/lutest/assets/js/136.03fcaba8.js"><link rel="prefetch" href="/lutest/assets/js/137.a666b1a1.js"><link rel="prefetch" href="/lutest/assets/js/138.b842e61b.js"><link rel="prefetch" href="/lutest/assets/js/139.a2ad3760.js"><link rel="prefetch" href="/lutest/assets/js/14.c7f80a25.js"><link rel="prefetch" href="/lutest/assets/js/140.13d6ab3e.js"><link rel="prefetch" href="/lutest/assets/js/141.e6c566c5.js"><link rel="prefetch" href="/lutest/assets/js/142.58403d16.js"><link rel="prefetch" href="/lutest/assets/js/143.7521ee07.js"><link rel="prefetch" href="/lutest/assets/js/144.661c7349.js"><link rel="prefetch" href="/lutest/assets/js/145.982663fe.js"><link rel="prefetch" href="/lutest/assets/js/146.a44e9e61.js"><link rel="prefetch" href="/lutest/assets/js/147.2e9e5807.js"><link rel="prefetch" href="/lutest/assets/js/148.ac533762.js"><link rel="prefetch" href="/lutest/assets/js/149.1e08e983.js"><link rel="prefetch" href="/lutest/assets/js/15.fc7b9ab4.js"><link rel="prefetch" href="/lutest/assets/js/150.95d28dc6.js"><link rel="prefetch" href="/lutest/assets/js/151.56785bd1.js"><link rel="prefetch" href="/lutest/assets/js/152.3a3f24cd.js"><link rel="prefetch" href="/lutest/assets/js/153.807c7e0e.js"><link rel="prefetch" href="/lutest/assets/js/154.215e894d.js"><link rel="prefetch" href="/lutest/assets/js/155.de48c699.js"><link rel="prefetch" href="/lutest/assets/js/156.5ce189fd.js"><link rel="prefetch" href="/lutest/assets/js/157.0056b854.js"><link rel="prefetch" href="/lutest/assets/js/158.38c42e6b.js"><link rel="prefetch" href="/lutest/assets/js/159.9da47ebe.js"><link rel="prefetch" href="/lutest/assets/js/16.5fb031f0.js"><link rel="prefetch" href="/lutest/assets/js/160.0ede62a7.js"><link rel="prefetch" href="/lutest/assets/js/161.22043583.js"><link rel="prefetch" href="/lutest/assets/js/163.3ee0dc6b.js"><link rel="prefetch" href="/lutest/assets/js/164.53d9bd26.js"><link rel="prefetch" href="/lutest/assets/js/165.4743e1b8.js"><link rel="prefetch" href="/lutest/assets/js/166.03917770.js"><link rel="prefetch" href="/lutest/assets/js/167.ab40a424.js"><link rel="prefetch" href="/lutest/assets/js/168.2dd2dc95.js"><link rel="prefetch" href="/lutest/assets/js/169.639a09a0.js"><link rel="prefetch" href="/lutest/assets/js/17.f146ab28.js"><link rel="prefetch" href="/lutest/assets/js/170.9330021e.js"><link rel="prefetch" href="/lutest/assets/js/171.12b45f30.js"><link rel="prefetch" href="/lutest/assets/js/172.4f439cac.js"><link rel="prefetch" href="/lutest/assets/js/173.cea1208f.js"><link rel="prefetch" href="/lutest/assets/js/174.44fdd364.js"><link rel="prefetch" href="/lutest/assets/js/175.c56b9a9d.js"><link rel="prefetch" href="/lutest/assets/js/176.6cba9443.js"><link rel="prefetch" href="/lutest/assets/js/177.51f7a624.js"><link rel="prefetch" href="/lutest/assets/js/178.6724f835.js"><link rel="prefetch" href="/lutest/assets/js/179.55060edc.js"><link rel="prefetch" href="/lutest/assets/js/18.2eb2e3bb.js"><link rel="prefetch" href="/lutest/assets/js/180.5c6aa03d.js"><link rel="prefetch" href="/lutest/assets/js/181.bfd11266.js"><link rel="prefetch" href="/lutest/assets/js/182.5c98cc60.js"><link rel="prefetch" href="/lutest/assets/js/183.531c3a75.js"><link rel="prefetch" href="/lutest/assets/js/184.ba313711.js"><link rel="prefetch" href="/lutest/assets/js/185.9f2ccd41.js"><link rel="prefetch" href="/lutest/assets/js/186.e3cf7ab6.js"><link rel="prefetch" href="/lutest/assets/js/187.2bd9c39b.js"><link rel="prefetch" href="/lutest/assets/js/188.5efe56c2.js"><link rel="prefetch" href="/lutest/assets/js/189.6c617798.js"><link rel="prefetch" href="/lutest/assets/js/19.93766500.js"><link rel="prefetch" href="/lutest/assets/js/190.95bac022.js"><link rel="prefetch" href="/lutest/assets/js/191.935efb12.js"><link rel="prefetch" href="/lutest/assets/js/192.5d7b01bf.js"><link rel="prefetch" href="/lutest/assets/js/193.4e0712de.js"><link rel="prefetch" href="/lutest/assets/js/194.a2d6490d.js"><link rel="prefetch" href="/lutest/assets/js/195.d3c682e9.js"><link rel="prefetch" href="/lutest/assets/js/196.bed64a26.js"><link rel="prefetch" href="/lutest/assets/js/197.95905734.js"><link rel="prefetch" href="/lutest/assets/js/198.9cf78938.js"><link rel="prefetch" href="/lutest/assets/js/199.22196020.js"><link rel="prefetch" href="/lutest/assets/js/20.db0a8ddb.js"><link rel="prefetch" href="/lutest/assets/js/200.89f273be.js"><link rel="prefetch" href="/lutest/assets/js/201.93d3f6fe.js"><link rel="prefetch" href="/lutest/assets/js/202.45b06b33.js"><link rel="prefetch" href="/lutest/assets/js/203.93ec4e0c.js"><link rel="prefetch" href="/lutest/assets/js/204.c3bd1cd6.js"><link rel="prefetch" href="/lutest/assets/js/205.118fb21c.js"><link rel="prefetch" href="/lutest/assets/js/206.c0170849.js"><link rel="prefetch" href="/lutest/assets/js/207.5d1f15b7.js"><link rel="prefetch" href="/lutest/assets/js/208.8e7bf216.js"><link rel="prefetch" href="/lutest/assets/js/209.c7ea67d4.js"><link rel="prefetch" href="/lutest/assets/js/21.9f255a67.js"><link rel="prefetch" href="/lutest/assets/js/210.c4ee63e6.js"><link rel="prefetch" href="/lutest/assets/js/211.a33d4a8a.js"><link rel="prefetch" href="/lutest/assets/js/212.593ace03.js"><link rel="prefetch" href="/lutest/assets/js/213.9e519031.js"><link rel="prefetch" href="/lutest/assets/js/214.fff03cb4.js"><link rel="prefetch" href="/lutest/assets/js/215.4370c0b4.js"><link rel="prefetch" href="/lutest/assets/js/216.41a18deb.js"><link rel="prefetch" href="/lutest/assets/js/217.ac80eab5.js"><link rel="prefetch" href="/lutest/assets/js/218.b7e21ca7.js"><link rel="prefetch" href="/lutest/assets/js/219.36ab4a6d.js"><link rel="prefetch" href="/lutest/assets/js/22.61118860.js"><link rel="prefetch" href="/lutest/assets/js/220.20a87e13.js"><link rel="prefetch" href="/lutest/assets/js/221.4f6cf5e4.js"><link rel="prefetch" href="/lutest/assets/js/222.d8c10255.js"><link rel="prefetch" href="/lutest/assets/js/223.9dadcc71.js"><link rel="prefetch" href="/lutest/assets/js/224.abc70a85.js"><link rel="prefetch" href="/lutest/assets/js/225.630efeec.js"><link rel="prefetch" href="/lutest/assets/js/226.6a16013f.js"><link rel="prefetch" href="/lutest/assets/js/227.54ac477a.js"><link rel="prefetch" href="/lutest/assets/js/228.0613864d.js"><link rel="prefetch" href="/lutest/assets/js/229.b46c0bb4.js"><link rel="prefetch" href="/lutest/assets/js/23.4801e669.js"><link rel="prefetch" href="/lutest/assets/js/230.99851e7c.js"><link rel="prefetch" href="/lutest/assets/js/231.0cb758cd.js"><link rel="prefetch" href="/lutest/assets/js/232.c75c975c.js"><link rel="prefetch" href="/lutest/assets/js/233.58e102cc.js"><link rel="prefetch" href="/lutest/assets/js/234.6e621cca.js"><link rel="prefetch" href="/lutest/assets/js/235.af91ffe1.js"><link rel="prefetch" href="/lutest/assets/js/236.aa7b5bb4.js"><link rel="prefetch" href="/lutest/assets/js/237.9759562f.js"><link rel="prefetch" href="/lutest/assets/js/238.ddcbb846.js"><link rel="prefetch" href="/lutest/assets/js/239.f6fedf2e.js"><link rel="prefetch" href="/lutest/assets/js/24.d9f96d86.js"><link rel="prefetch" href="/lutest/assets/js/240.89bad7ce.js"><link rel="prefetch" href="/lutest/assets/js/241.2bb2e533.js"><link rel="prefetch" href="/lutest/assets/js/242.2facd362.js"><link rel="prefetch" href="/lutest/assets/js/243.4273a51b.js"><link rel="prefetch" href="/lutest/assets/js/244.e1a79f41.js"><link rel="prefetch" href="/lutest/assets/js/245.7047db19.js"><link rel="prefetch" href="/lutest/assets/js/246.0bcbfd13.js"><link rel="prefetch" href="/lutest/assets/js/247.761c3d12.js"><link rel="prefetch" href="/lutest/assets/js/248.564d92cd.js"><link rel="prefetch" href="/lutest/assets/js/249.8bfbc3bc.js"><link rel="prefetch" href="/lutest/assets/js/25.38ffa021.js"><link rel="prefetch" href="/lutest/assets/js/250.9db83fa0.js"><link rel="prefetch" href="/lutest/assets/js/251.9e29cd98.js"><link rel="prefetch" href="/lutest/assets/js/252.46232f04.js"><link rel="prefetch" href="/lutest/assets/js/253.12665a80.js"><link rel="prefetch" href="/lutest/assets/js/254.bc763e10.js"><link rel="prefetch" href="/lutest/assets/js/255.51e2fceb.js"><link rel="prefetch" href="/lutest/assets/js/26.61eedfc1.js"><link rel="prefetch" href="/lutest/assets/js/27.262b1e42.js"><link rel="prefetch" href="/lutest/assets/js/28.c05c6191.js"><link rel="prefetch" href="/lutest/assets/js/29.1fd3ab2f.js"><link rel="prefetch" href="/lutest/assets/js/30.7fc64696.js"><link rel="prefetch" href="/lutest/assets/js/31.c05bd128.js"><link rel="prefetch" href="/lutest/assets/js/32.fa2080ce.js"><link rel="prefetch" href="/lutest/assets/js/33.90ad4444.js"><link rel="prefetch" href="/lutest/assets/js/34.f41c9b50.js"><link rel="prefetch" href="/lutest/assets/js/35.6c0645c2.js"><link rel="prefetch" href="/lutest/assets/js/36.42d6b1ba.js"><link rel="prefetch" href="/lutest/assets/js/37.94975372.js"><link rel="prefetch" href="/lutest/assets/js/38.9e05f896.js"><link rel="prefetch" href="/lutest/assets/js/39.b2e33d4f.js"><link rel="prefetch" href="/lutest/assets/js/40.b558ff04.js"><link rel="prefetch" href="/lutest/assets/js/41.7fc54cb5.js"><link rel="prefetch" href="/lutest/assets/js/42.77674c59.js"><link rel="prefetch" href="/lutest/assets/js/43.85dac72d.js"><link rel="prefetch" href="/lutest/assets/js/44.4755ac46.js"><link rel="prefetch" href="/lutest/assets/js/45.e5faa52c.js"><link rel="prefetch" href="/lutest/assets/js/46.a0bfd437.js"><link rel="prefetch" href="/lutest/assets/js/47.3b05e92d.js"><link rel="prefetch" href="/lutest/assets/js/48.19c61a76.js"><link rel="prefetch" href="/lutest/assets/js/49.dba95b21.js"><link rel="prefetch" href="/lutest/assets/js/5.6f57952d.js"><link rel="prefetch" href="/lutest/assets/js/50.ec1c8db4.js"><link rel="prefetch" href="/lutest/assets/js/51.279c48ec.js"><link rel="prefetch" href="/lutest/assets/js/52.50004cc9.js"><link rel="prefetch" href="/lutest/assets/js/53.89d7490c.js"><link rel="prefetch" href="/lutest/assets/js/54.7c9601ca.js"><link rel="prefetch" href="/lutest/assets/js/55.5da8ea72.js"><link rel="prefetch" href="/lutest/assets/js/56.3ddd5b57.js"><link rel="prefetch" href="/lutest/assets/js/57.4581a13f.js"><link rel="prefetch" href="/lutest/assets/js/58.32fefc1d.js"><link rel="prefetch" href="/lutest/assets/js/59.9e85ab43.js"><link rel="prefetch" href="/lutest/assets/js/6.b2c8eec7.js"><link rel="prefetch" href="/lutest/assets/js/60.64ab3593.js"><link rel="prefetch" href="/lutest/assets/js/61.d6a37605.js"><link rel="prefetch" href="/lutest/assets/js/62.381f6b44.js"><link rel="prefetch" href="/lutest/assets/js/63.fa58f38a.js"><link rel="prefetch" href="/lutest/assets/js/64.35fd9833.js"><link rel="prefetch" href="/lutest/assets/js/65.80555155.js"><link rel="prefetch" href="/lutest/assets/js/66.df6969ed.js"><link rel="prefetch" href="/lutest/assets/js/67.654d2c26.js"><link rel="prefetch" href="/lutest/assets/js/68.5fba8f43.js"><link rel="prefetch" href="/lutest/assets/js/69.88f51af3.js"><link rel="prefetch" href="/lutest/assets/js/7.04fc8669.js"><link rel="prefetch" href="/lutest/assets/js/70.d83d484b.js"><link rel="prefetch" href="/lutest/assets/js/71.52619ce8.js"><link rel="prefetch" href="/lutest/assets/js/72.38de7dbb.js"><link rel="prefetch" href="/lutest/assets/js/73.46d7b578.js"><link rel="prefetch" href="/lutest/assets/js/74.01cdf0a0.js"><link rel="prefetch" href="/lutest/assets/js/75.3f5c6723.js"><link rel="prefetch" href="/lutest/assets/js/76.1290445f.js"><link rel="prefetch" href="/lutest/assets/js/77.430ba314.js"><link rel="prefetch" href="/lutest/assets/js/78.5067d307.js"><link rel="prefetch" href="/lutest/assets/js/79.40e4e726.js"><link rel="prefetch" href="/lutest/assets/js/8.0b55fcd3.js"><link rel="prefetch" href="/lutest/assets/js/80.85afcd52.js"><link rel="prefetch" href="/lutest/assets/js/81.8e3a8854.js"><link rel="prefetch" href="/lutest/assets/js/82.8e763542.js"><link rel="prefetch" href="/lutest/assets/js/83.cfa7c44e.js"><link rel="prefetch" href="/lutest/assets/js/84.c63d37be.js"><link rel="prefetch" href="/lutest/assets/js/85.2779b01b.js"><link rel="prefetch" href="/lutest/assets/js/86.70e47826.js"><link rel="prefetch" href="/lutest/assets/js/87.8f1c4b6a.js"><link rel="prefetch" href="/lutest/assets/js/88.9b8a4114.js"><link rel="prefetch" href="/lutest/assets/js/89.562f3169.js"><link rel="prefetch" href="/lutest/assets/js/9.816e031f.js"><link rel="prefetch" href="/lutest/assets/js/90.deeae8d3.js"><link rel="prefetch" href="/lutest/assets/js/91.8c614725.js"><link rel="prefetch" href="/lutest/assets/js/92.570ebf03.js"><link rel="prefetch" href="/lutest/assets/js/93.4bd3d05f.js"><link rel="prefetch" href="/lutest/assets/js/94.286929df.js"><link rel="prefetch" href="/lutest/assets/js/95.18018c8f.js"><link rel="prefetch" href="/lutest/assets/js/96.8e645ebe.js"><link rel="prefetch" href="/lutest/assets/js/97.e6959e6f.js"><link rel="prefetch" href="/lutest/assets/js/98.46bbc6d3.js"><link rel="prefetch" href="/lutest/assets/js/99.4d53c140.js">
    <link rel="stylesheet" href="/lutest/assets/css/0.styles.c5cda839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lutest/" class="home-link router-link-active"><!----> <span class="site-name">Lu notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lutest/" class="nav-link">首页</a></div><div class="nav-item"><a href="/lutest/prepare/" class="nav-link">Prepare</a></div><div class="nav-item"><a href="/lutest/js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/lutest/collection/" class="nav-link">Collection</a></div><div class="nav-item"><a href="/lutest/study2020/" class="nav-link">study2020</a></div><div class="nav-item"><a href="/lutest/brochure/" class="nav-link router-link-active">技术小册</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lutest/" class="nav-link">首页</a></div><div class="nav-item"><a href="/lutest/prepare/" class="nav-link">Prepare</a></div><div class="nav-item"><a href="/lutest/js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/lutest/collection/" class="nav-link">Collection</a></div><div class="nav-item"><a href="/lutest/study2020/" class="nav-link">study2020</a></div><div class="nav-item"><a href="/lutest/brochure/" class="nav-link router-link-active">技术小册</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/React：设计模式和最佳实践/" class="sidebar-heading clickable"><span>React：设计模式和最佳实践</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/Vue.js组件精讲/" class="sidebar-heading clickable"><span>Vue.js组件精讲</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/Vue3.0前瞻/" class="sidebar-heading clickable"><span>Vue3.0前瞻</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/中高级前端必备知识/" class="sidebar-heading clickable"><span>中高级前端必备知识</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/前端性能优化原理与实践/" class="sidebar-heading clickable"><span>前端性能优化原理与实践</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/源码分析/" class="sidebar-heading clickable"><span>源码分析</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/趣谈Linux/" class="sidebar-heading clickable"><span>趣谈Linux</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/重学前端/" class="sidebar-heading clickable"><span>重学前端</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/零基础学透TypeScript/" class="sidebar-heading clickable open"><span>零基础学透TypeScript</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/lutest/brochure/零基础学透TypeScript/0-前言.html" class="sidebar-link">0-前言</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/01-导读：Hello~TypeScript.html" class="sidebar-link">01-导读：Hello~TypeScript</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/02-TypeScript应该怎么学.html" class="sidebar-link">02-TypeScript应该怎么学</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/03-VSCode揭秘和搭建开发环境.html" class="sidebar-link">03-VSCode揭秘和搭建开发环境</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/04-八个JS中你见过的类型.html" class="sidebar-link">04-八个JS中你见过的类型</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/05-TS中补充的六个类型.html" class="sidebar-link">05-TS中补充的六个类型</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/06-Symbol-ES6新基础类型.html" class="sidebar-link">06-Symbol-ES6新基础类型</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/07-深入学习枚举.html" class="sidebar-link">07-深入学习枚举</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/08-使用类型断言达到预期.html" class="sidebar-link">08-使用类型断言达到预期</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/09-使用接口定义几乎任意结构.html" class="sidebar-link">09-使用接口定义几乎任意结构</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/10-接口的高阶用法.html" class="sidebar-link">10-接口的高阶用法</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/11-为函数和函数参数定义类型.html" class="sidebar-link">11-为函数和函数参数定义类型</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/12-使用泛型拯救你的any.html" class="sidebar-link">12-使用泛型拯救你的any</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/13-TS中的类，小心它与ES标准的差异.html" class="active sidebar-link">13-TS中的类，小心它与ES标准的差异</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/lutest/brochure/零基础学透TypeScript/14-类型推论，看TS有多懂你.html" class="sidebar-link">14-类型推论，看TS有多懂你</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/15-类型兼容性，开放心态满足灵活的JS.html" class="sidebar-link">15-类型兼容性，开放心态满足灵活的JS</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/16-使用类型保护让TS更聪明.html" class="sidebar-link">16-使用类型保护让TS更聪明</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/17-使用显式复制断言给TS一个你一定会赋值的承诺.html" class="sidebar-link">17-使用显式复制断言给TS一个你一定会赋值的承诺</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/18-类型别名和字面量类型—单调的类型.html" class="sidebar-link">18-类型别名和字面量类型—单调的类型</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/19-使用可辨识联合并保证每个case都被处理.html" class="sidebar-link">19-使用可辨识联合并保证每个case都被处理</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/20-this，类型？.html" class="sidebar-link">20-this，类型？</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/21-索引类型：获取索引类型和索引值类型.html" class="sidebar-link">21-索引类型：获取索引类型和索引值类型</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/22-使用映射类型得到新的类型.html" class="sidebar-link">22-使用映射类型得到新的类型</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/23-前面跳过的unkown类型详解.html" class="sidebar-link">23-前面跳过的unkown类型详解</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/24-条件类型，它不是三元操作符的写法吗？.html" class="sidebar-link">24-条件类型，它不是三元操作符的写法吗？</a></li><li><a href="/lutest/brochure/零基础学透TypeScript/25-入手装饰器，给凡人添加超能力.html" class="sidebar-link">25-入手装饰器，给凡人添加超能力</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="ts中的类-小心它与es标准的差异"><a href="#ts中的类-小心它与es标准的差异" class="header-anchor">#</a> TS中的类，小心它与ES标准的差异</h3> <p>虽然说类是 ES6 中新增的概念，但是在这里讲 TS 中的类，是因为在语法的实现上 TS 和 ES6 规范的，还是有点区别。在学习本节课之前，你要确定你已经详细学习了ES6标准的类的全部知识，如果没有学习，建议你先学习下阮一峰的<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">《ECMAScript 6 入门》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，学习完后再来学习本节课你会发现，一些同样的功能写法上却不同。</p> <h5 id="_2-10-1-基础"><a href="#_2-10-1-基础" class="header-anchor">#</a> 2.10.1. 基础</h5> <p>类的所有知识我们已经在 ES6 中的类两个课时学过了，现在我们先来看下在 TS 中定义类的一个简单例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> number<span class="token punctuation">;</span>
  y<span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> number<span class="token punctuation">,</span> y<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>我们首先在定义类的代码块的顶部定义两个实例属性，并且指定类型为 number 类型。构造函数 constructor 需要传入两个参数，都是 number 类型，并且把这两个参数分别赋值给两个实例属性。最后定义了一个定义在类的原型对象上的方法 getPosition。</p> <p>同样你也可以使用继承来复用一些特性：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这些和 ES6 标准中的类没什么区别，如果大家不了解ES6标准中类关于这块的内容，建议大家先去学习ES6类的知识。</p> <h5 id="_2-10-2-修饰符"><a href="#_2-10-2-修饰符" class="header-anchor">#</a> 2.10.2. 修饰符</h5> <p>在 ES6 标准类的定义中，默认情况下，定义在实例的属性和方法会在创建实例后添加到实例上；而如果是定义在类里没有定义在 this 上的方法，实例可以继承这个方法；而如果使用 static 修饰符定义的属性和方法，是静态属性和静态方法，实例是没法访问和继承到的；我们还通过一些手段，实现了私有方法，但是私有属性的实现还不好实现。</p> <p>接下来我们来看下 TS 中的公共、私有和受保护的修饰符：</p> <ul><li>(1) public
<code>public</code>表示公共的，用来指定在创建实例后可以通过实例访问的，也就是类定义的外部可以访问的属性和方法。默认是 public，但是 TSLint 可能会要求你必须用修饰符来表明这个属性或方法是什么类型的。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> x<span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token keyword">public</span> y<span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> number<span class="token punctuation">,</span> y<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>(2) private
<code>private</code>修饰符表示私有的，它修饰的属性在类的定义外面是没法访问的：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> age<span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { age: 18 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 属性“age”为私有属性，只能在类“Parent”中访问</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Parent<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 类型“typeof ParentA”上不存在属性“age”</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过 &quot;super&quot; 关键字只能访问基类的公共方法和受保护方法</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>这里你可以看到，age 属性使用 private 修饰符修饰，说明他是私有属性，我们打印创建的实例对象 p，发现他是有属性 age 的，但是当试图访问 p 的 age 属性时，编译器会报错，告诉我们私有属性只能在类 Parent 中访问。</p> <p>这里我们需要特别说下 super.age 这里的报错，我们在之前学习 ES6 的类的时候，讲过在不同类型的方法里 super 作为对象代表着不同的含义，这里在 constructor 中访问 super，这的 super 相当于父类本身，这里我们看到使用 private 修饰的属性，在子类中是没法访问的。</p> <ul><li>(3) protected
<code>protected</code>修饰符是受保护修饰符，和<code>private</code>有些相似，但有一点不同，<code>protected</code>修饰的成员在继承该类的子类中可以访问，我们再来看下上面那个例子，把父类 Parent 的 age 属性的修饰符 private 替换为 protected：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> age<span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">protected</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 属性“age”为私有属性，只能在类“ParentA”中访问</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Parent<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 类型“typeof ParentA”上不存在属性“age”</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><code>protected</code>还能用来修饰 constructor 构造函数，加了<code>protected</code>修饰符之后，这个类就不能再用来创建实例，只能被子类继承，这个需求我们在讲 ES6 的类的时候讲过，需要用<code>new.target</code>来自行判断，而 TS 则只需用 protected 修饰符即可：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 类“Parent”的构造函数是受保护的，仅可在类声明中访问</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="_2-10-4-readonly-修饰符"><a href="#_2-10-4-readonly-修饰符" class="header-anchor">#</a> 2.10.4. readonly 修饰符</h5> <p>在类里可以使用<code>readonly</code>关键字将属性设置为只读。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">UserInfo</span> <span class="token punctuation">{</span>
  readonly name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserInfo</span><span class="token punctuation">(</span><span class="token string">&quot;Lison&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;haha&quot;</span><span class="token punctuation">;</span> <span class="token comment">// error Cannot assign to 'name' because it is a read-only property</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>设置为只读的属性，实例只能读取这个属性值，但不能修改。</p> <h5 id="_2-10-5-参数属性"><a href="#_2-10-5-参数属性" class="header-anchor">#</a> 2.10.5. 参数属性</h5> <p>之前的例子中，我们都是在类的定义的顶部初始化实例属性，在 constructor 里接收参数然后对实例属性进行赋值，我们可以使用参数属性来简化这个过程。参数属性简单来说就是在 constructor 构造函数的参数前面加上访问限定符，也就是前面讲的 public、private、protected 和 readonly 中的任意一个，我们来看例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 类型“A”上不存在属性“name”</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token string">&quot;bbb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;bbb&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>可以看到，在定义类 B 时，构造函数有一个参数 name，这个 name 使用访问修饰符 public 修饰，此时即为 name 声明了参数属性，也就无需再显示地在类中初始化这个属性了。</p> <h5 id="_2-10-6-静态属性"><a href="#_2-10-6-静态属性" class="header-anchor">#</a> 2.10.6. 静态属性</h5> <p>和 ES6 的类一样，在 TS 中一样使用static关键字来指定属性或方法是静态的，实例将不会添加这个静态属性，也不会继承这个静态方法，你可以使用修饰符和 static 关键字来指定一个属性或方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> age<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Parent<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error Property 'age' is a static member of type 'Parent'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Parent<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如果使用了 private 修饰道理和之前的一样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Parent<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> age<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error Property 'age' is a static member of type 'Parent'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Parent<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 属性“age”为私有属性，只能在类“Parent”中访问。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="_2-10-7-可选类属性"><a href="#_2-10-7-可选类属性" class="header-anchor">#</a> 2.10.7. 可选类属性</h5> <p>TS 在 2.0 版本，支持可选类属性，也是使用<code>?</code>符号来标记，来看例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Info</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string<span class="token punctuation">,</span> age<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token keyword">public</span> sex<span class="token operator">?</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> info1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token string">&quot;lison&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> info2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token string">&quot;lison&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> info3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token string">&quot;lison&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;man&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="_2-10-8-存取器"><a href="#_2-10-8-存取器" class="header-anchor">#</a> 2.10.8. 存取器</h5> <p>这个也就 ES6 标准中的存值函数和取值函数，也就是在设置属性值的时候调用的函数，和在访问属性值的时候调用的函数，用法和写法和 ES6 的没有区别：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">UserInfo</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> _fullName<span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_fullName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">setter: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_fullName <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token string">&quot;Lison Li&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;setter: Lison Li&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Lison Li&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="_2-10-9-抽象类"><a href="#_2-10-9-抽象类" class="header-anchor">#</a> 2.10.9. 抽象类</h5> <p>抽象类一般用来被其他类继承，而不直接用它创建实例。抽象类和类内部定义抽象方法，使用<code>abstract</code>关键字，我们先来看个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>abstract <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  abstract <span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 应有 1 个参数，但获得 0 个</span>
<span class="token keyword">const</span> man <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token string">&quot;lison&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
man<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'lison'</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token string">&quot;lison&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error 无法创建抽象类的实例</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>上面例子中我们定义了一个抽象类 People，在抽象类里我们定义 constructor 方法必须传入一个字符串类型参数，并把这个 name 参数值绑定在创建的实例上；使用<code>abstract</code>关键字定义一个抽象方法 printName，这个定义可以指定参数，指定参数类型，指定返回类型。当我们直接使用抽象类 People 实例化的时候，就会报错，我们只能创建一个继承抽象类的子类，使用子类来实例化。</p> <p>我们再来看个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>abstract <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  abstract <span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token comment">// error 非抽象类“Man”不会实现继承自“People”类的抽象成员&quot;printName&quot;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token string">&quot;lison&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error m.printName is not a function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>通过上面的例子我们可以看到，在抽象类里定义的抽象方法，在子类中是不会继承的，所以在子类中必须实现该方法的定义。</p> <p>2.0 版本开始，<code>abstract</code>关键字不仅可以标记类和类里面的方法，还可以标记类中定义的属性和存取器</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>abstract <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  abstract _name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  abstract <span class="token keyword">get</span> <span class="token function">insideName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  abstract <span class="token keyword">set</span> <span class="token function">insideName</span><span class="token punctuation">(</span>value<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Pp</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  _name<span class="token operator">:</span> string<span class="token punctuation">;</span>
  insideName<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>但是要记住，抽象方法和抽象存取器都不能包含实际的代码块。</p></blockquote> <h3 id="_2-10-10-实例类型"><a href="#_2-10-10-实例类型" class="header-anchor">#</a> 2.10.10. 实例类型</h3> <p>当我们定义一个类，并创建实例后，这个实例的类型就是创建他的类：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p<span class="token operator">:</span> People <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token string">&quot;lison&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>当然了，创建实例的时候这指定 p 的类型为 People 并不是必须的，TS 会推断出他的类型。虽然指定了类型，但是当我们再定义一个和 People 类同样实现的类 Animal，并且创建实例赋值给 p 的时候，是没有问题的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">&quot;lark&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>所以，如果你想实现对创建实例的类的判断，还是需要用到<code>instanceof</code>关键字。</p> <h5 id="_2-10-11-对前面跳过知识的补充"><a href="#_2-10-11-对前面跳过知识的补充" class="header-anchor">#</a> 2.10.11. 对前面跳过知识的补充</h5> <p>现在我们把之前因为没有学习类的使用，所以暂时跳过的内容补回来。</p> <ul><li>(1) 类类型接口</li></ul> <p>使用接口可以强制一个类的定义必须包含某些内容，先来看个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">FoodInterface</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">FoodClass</span> <span class="token keyword">implements</span> <span class="token class-name">FoodInterface</span> <span class="token punctuation">{</span>
  <span class="token comment">// error Property 'type' is missing in type 'FoodClass' but required in type 'FoodInterface'</span>
  <span class="token keyword">static</span> type<span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上面接口 FoodInterface 要求使用该接口的值必须有一个 type 属性，定义的类 FoodClass 要使用接口，需要使用关键字<code>implements</code>。<strong>implements</strong>关键字用来指定一个类要继承的接口，如果是接口和接口、类和类直接的继承，使用extends，如果是类继承接口，则用implements。</p> <p>有一点需要注意，<strong>接口检测的是使用该接口定义的类创建的实例</strong>，所以上面例子中虽然定义了静态属性 type，但静态属性不会添加到实例上，所以还是报错，所以我们可以这样改：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">FoodInterface</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">FoodClass</span> <span class="token keyword">implements</span> <span class="token class-name">FoodInterface</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> type<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>当然这个需求你也可以使用本节课学习的抽象类实现：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>abstract <span class="token keyword">class</span> <span class="token class-name">FoodAbstractClass</span> <span class="token punctuation">{</span>
  abstract type<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Food</span> <span class="token keyword">extends</span> <span class="token class-name">FoodAbstractClass</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> type<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>(2) 接口继承类</li></ul> <p>接口可以继承一个类，当接口继承了该类后，会继承类的成员，但是不包括其实现，也就是只继承成员以及成员类型。接口还会继承类的<code>private</code>和<code>protected</code>修饰的成员，当接口继承的这个类中包含这两个修饰符修饰的成员时，这个接口只可被这个类或他的子类实现。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> name<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">I</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> <span class="token class-name">I</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// error Property 'name' is missing in type 'B' but required in type 'I'</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token keyword">implements</span> <span class="token class-name">I</span> <span class="token punctuation">{</span>
  <span class="token comment">// error 属性“name”受保护，但类型“C”并不是从“A”派生的类</span>
  name<span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token keyword">implements</span> <span class="token class-name">I</span> <span class="token punctuation">{</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>(3) 在泛型中使用类类型</li></ul> <p>这里我们先来看个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> create <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>c<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token constant">T</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Info</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">create</span><span class="token punctuation">(</span>Info<span class="token punctuation">)</span><span class="token punctuation">.</span>age<span class="token punctuation">;</span>
<span class="token function">create</span><span class="token punctuation">(</span>Info<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// error 类型“Info”上不存在属性“name”</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在这个例子里，我们创建了一个一个 create 函数，传入的参数是一个类，返回的是一个类创建的实例，这里有几个点要讲：</p> <ul><li>参数 c 的类型定义中，new()代表调用类的构造函数，他的类型也就是类创建实例后的实例的类型。</li> <li>return new c()这里使用传进来的类 c 创建一个实例并返回，返回的实例类型也就是函数的返回值类型。</li></ul> <p>所以通过这个定义，TS 就知道，调用 create 函数，传入的和返回的值都应该是同一个类类型。</p> <h5 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h5> <p>本小节我们详细学习了类的知识，因为TypeScript中类的概念是遵循ES6标准的同时，添加了新语法的，所以学习完本小节后，你应该记住ES6标准和TypeScript中类的区别，避免在纯JavaScript中使用了TypeScript的语法。我们学习了三个类的修饰符：</p> <ul><li>public：公有属性方法修饰符，这是默认修饰符；</li> <li>private：私有修饰符，它修饰的属性在类的定义外面无法访问；</li> <li>protected：和private相似，区别在于他修饰的成员在继承该类的子类中可以访问。</li></ul> <p>还有一个readonly修饰符，他在讲前面知识的时候就遇到过，只读修饰符。我们还学习了如何使用参数属性来简化实例属性的初始化过程，还有使用定义函数可选参数同样的方式来定义构造函数可选参数。我们学习了如何定义抽象类，使用<code>abstract</code>关键字修饰类定义，抽象类一般用来被其他类继承，而不直接用它创建实例。我们还学习了，类既是值，也是类型，当我们使用类创建一个实例的时候，这个实例的类型也就是这个创建这个实例的类。最后我们对前面讲接口和泛型时涉及到类跳过的知识进行补充讲解：类类型接口、接口继承类和在泛型中使用类类型。</p> <p>学习完本小节后，第二章基础部分就学习完了，这部分知识是学习后面章节的重要基础，所以你一定要多看多练多理解，下一章我们开始学习进阶部分，别掉队哦。</p> <p><img src="http://img.mukewang.com/5cf4c02400018cc216001216.jpg" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/lutest/brochure/零基础学透TypeScript/12-使用泛型拯救你的any.html" class="prev">12-使用泛型拯救你的any</a></span> <span class="next"><a href="/lutest/brochure/零基础学透TypeScript/14-类型推论，看TS有多懂你.html">14-类型推论，看TS有多懂你</a>
      →
    </span></p></div> </main> <span data-v-2ae0ee72></span></div><div class="global-ui"></div></div>
    <script src="/lutest/assets/js/app.ebd1d23d.js" defer></script><script src="/lutest/assets/js/3.6f79f3df.js" defer></script><script src="/lutest/assets/js/4.2436b720.js" defer></script><script src="/lutest/assets/js/162.2932e118.js" defer></script>
  </body>
</html>
