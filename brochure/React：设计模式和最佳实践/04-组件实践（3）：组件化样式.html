<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组件实践（3）：组件化样式 | Lu notes</title>
    <meta name="generator" content="VuePress 1.8.1">
    <link rel=" " href=" ">
    <meta name="description" content=" ">
    
    <link rel="preload" href="/lutest/assets/css/0.styles.c5cda839.css" as="style"><link rel="preload" href="/lutest/assets/js/app.ebd1d23d.js" as="script"><link rel="preload" href="/lutest/assets/js/3.6f79f3df.js" as="script"><link rel="preload" href="/lutest/assets/js/4.2436b720.js" as="script"><link rel="preload" href="/lutest/assets/js/30.7fc64696.js" as="script"><link rel="prefetch" href="/lutest/assets/js/1.1cc44110.js"><link rel="prefetch" href="/lutest/assets/js/10.2ff953e2.js"><link rel="prefetch" href="/lutest/assets/js/100.d21da0b1.js"><link rel="prefetch" href="/lutest/assets/js/101.baee6874.js"><link rel="prefetch" href="/lutest/assets/js/102.a131df4d.js"><link rel="prefetch" href="/lutest/assets/js/103.bc2d83c4.js"><link rel="prefetch" href="/lutest/assets/js/104.55aba83c.js"><link rel="prefetch" href="/lutest/assets/js/105.34f83aee.js"><link rel="prefetch" href="/lutest/assets/js/106.f9b9a8dd.js"><link rel="prefetch" href="/lutest/assets/js/107.fb75706f.js"><link rel="prefetch" href="/lutest/assets/js/108.8162cb52.js"><link rel="prefetch" href="/lutest/assets/js/109.335aec84.js"><link rel="prefetch" href="/lutest/assets/js/11.be8389d9.js"><link rel="prefetch" href="/lutest/assets/js/110.6783d72e.js"><link rel="prefetch" href="/lutest/assets/js/111.32296bb2.js"><link rel="prefetch" href="/lutest/assets/js/112.f605d6b5.js"><link rel="prefetch" href="/lutest/assets/js/113.9dfc15c2.js"><link rel="prefetch" href="/lutest/assets/js/114.c2dd4c1c.js"><link rel="prefetch" href="/lutest/assets/js/115.8961136d.js"><link rel="prefetch" href="/lutest/assets/js/116.4b9a4b76.js"><link rel="prefetch" href="/lutest/assets/js/117.4a60375f.js"><link rel="prefetch" href="/lutest/assets/js/118.313841c7.js"><link rel="prefetch" href="/lutest/assets/js/119.cba1f6de.js"><link rel="prefetch" href="/lutest/assets/js/12.ffe23520.js"><link rel="prefetch" href="/lutest/assets/js/120.07a8f28b.js"><link rel="prefetch" href="/lutest/assets/js/121.e5a6dee9.js"><link rel="prefetch" href="/lutest/assets/js/122.04b20843.js"><link rel="prefetch" href="/lutest/assets/js/123.20b5817c.js"><link rel="prefetch" href="/lutest/assets/js/124.4e3bc7c0.js"><link rel="prefetch" href="/lutest/assets/js/125.ba63819b.js"><link rel="prefetch" href="/lutest/assets/js/126.9eb167aa.js"><link rel="prefetch" href="/lutest/assets/js/127.78d35f1e.js"><link rel="prefetch" href="/lutest/assets/js/128.f814450d.js"><link rel="prefetch" href="/lutest/assets/js/129.9fa697d6.js"><link rel="prefetch" href="/lutest/assets/js/13.767ad5e3.js"><link rel="prefetch" href="/lutest/assets/js/130.255283ff.js"><link rel="prefetch" href="/lutest/assets/js/131.e0065cd8.js"><link rel="prefetch" href="/lutest/assets/js/132.04ec8e1a.js"><link rel="prefetch" href="/lutest/assets/js/133.e920aac4.js"><link rel="prefetch" href="/lutest/assets/js/134.82b32064.js"><link rel="prefetch" href="/lutest/assets/js/135.d6b4975f.js"><link rel="prefetch" href="/lutest/assets/js/136.03fcaba8.js"><link rel="prefetch" href="/lutest/assets/js/137.a666b1a1.js"><link rel="prefetch" href="/lutest/assets/js/138.b842e61b.js"><link rel="prefetch" href="/lutest/assets/js/139.a2ad3760.js"><link rel="prefetch" href="/lutest/assets/js/14.c7f80a25.js"><link rel="prefetch" href="/lutest/assets/js/140.13d6ab3e.js"><link rel="prefetch" href="/lutest/assets/js/141.e6c566c5.js"><link rel="prefetch" href="/lutest/assets/js/142.58403d16.js"><link rel="prefetch" href="/lutest/assets/js/143.7521ee07.js"><link rel="prefetch" href="/lutest/assets/js/144.661c7349.js"><link rel="prefetch" href="/lutest/assets/js/145.982663fe.js"><link rel="prefetch" href="/lutest/assets/js/146.a44e9e61.js"><link rel="prefetch" href="/lutest/assets/js/147.2e9e5807.js"><link rel="prefetch" href="/lutest/assets/js/148.ac533762.js"><link rel="prefetch" href="/lutest/assets/js/149.1e08e983.js"><link rel="prefetch" href="/lutest/assets/js/15.fc7b9ab4.js"><link rel="prefetch" href="/lutest/assets/js/150.95d28dc6.js"><link rel="prefetch" href="/lutest/assets/js/151.56785bd1.js"><link rel="prefetch" href="/lutest/assets/js/152.3a3f24cd.js"><link rel="prefetch" href="/lutest/assets/js/153.807c7e0e.js"><link rel="prefetch" href="/lutest/assets/js/154.215e894d.js"><link rel="prefetch" href="/lutest/assets/js/155.de48c699.js"><link rel="prefetch" href="/lutest/assets/js/156.5ce189fd.js"><link rel="prefetch" href="/lutest/assets/js/157.0056b854.js"><link rel="prefetch" href="/lutest/assets/js/158.38c42e6b.js"><link rel="prefetch" href="/lutest/assets/js/159.9da47ebe.js"><link rel="prefetch" href="/lutest/assets/js/16.5fb031f0.js"><link rel="prefetch" href="/lutest/assets/js/160.0ede62a7.js"><link rel="prefetch" href="/lutest/assets/js/161.22043583.js"><link rel="prefetch" href="/lutest/assets/js/162.2932e118.js"><link rel="prefetch" href="/lutest/assets/js/163.3ee0dc6b.js"><link rel="prefetch" href="/lutest/assets/js/164.53d9bd26.js"><link rel="prefetch" href="/lutest/assets/js/165.4743e1b8.js"><link rel="prefetch" href="/lutest/assets/js/166.03917770.js"><link rel="prefetch" href="/lutest/assets/js/167.ab40a424.js"><link rel="prefetch" href="/lutest/assets/js/168.2dd2dc95.js"><link rel="prefetch" href="/lutest/assets/js/169.639a09a0.js"><link rel="prefetch" href="/lutest/assets/js/17.f146ab28.js"><link rel="prefetch" href="/lutest/assets/js/170.9330021e.js"><link rel="prefetch" href="/lutest/assets/js/171.12b45f30.js"><link rel="prefetch" href="/lutest/assets/js/172.4f439cac.js"><link rel="prefetch" href="/lutest/assets/js/173.cea1208f.js"><link rel="prefetch" href="/lutest/assets/js/174.44fdd364.js"><link rel="prefetch" href="/lutest/assets/js/175.c56b9a9d.js"><link rel="prefetch" href="/lutest/assets/js/176.6cba9443.js"><link rel="prefetch" href="/lutest/assets/js/177.51f7a624.js"><link rel="prefetch" href="/lutest/assets/js/178.6724f835.js"><link rel="prefetch" href="/lutest/assets/js/179.55060edc.js"><link rel="prefetch" href="/lutest/assets/js/18.2eb2e3bb.js"><link rel="prefetch" href="/lutest/assets/js/180.5c6aa03d.js"><link rel="prefetch" href="/lutest/assets/js/181.bfd11266.js"><link rel="prefetch" href="/lutest/assets/js/182.5c98cc60.js"><link rel="prefetch" href="/lutest/assets/js/183.531c3a75.js"><link rel="prefetch" href="/lutest/assets/js/184.ba313711.js"><link rel="prefetch" href="/lutest/assets/js/185.9f2ccd41.js"><link rel="prefetch" href="/lutest/assets/js/186.e3cf7ab6.js"><link rel="prefetch" href="/lutest/assets/js/187.2bd9c39b.js"><link rel="prefetch" href="/lutest/assets/js/188.5efe56c2.js"><link rel="prefetch" href="/lutest/assets/js/189.6c617798.js"><link rel="prefetch" href="/lutest/assets/js/19.93766500.js"><link rel="prefetch" href="/lutest/assets/js/190.95bac022.js"><link rel="prefetch" href="/lutest/assets/js/191.935efb12.js"><link rel="prefetch" href="/lutest/assets/js/192.5d7b01bf.js"><link rel="prefetch" href="/lutest/assets/js/193.4e0712de.js"><link rel="prefetch" href="/lutest/assets/js/194.a2d6490d.js"><link rel="prefetch" href="/lutest/assets/js/195.d3c682e9.js"><link rel="prefetch" href="/lutest/assets/js/196.bed64a26.js"><link rel="prefetch" href="/lutest/assets/js/197.95905734.js"><link rel="prefetch" href="/lutest/assets/js/198.9cf78938.js"><link rel="prefetch" href="/lutest/assets/js/199.22196020.js"><link rel="prefetch" href="/lutest/assets/js/20.db0a8ddb.js"><link rel="prefetch" href="/lutest/assets/js/200.89f273be.js"><link rel="prefetch" href="/lutest/assets/js/201.93d3f6fe.js"><link rel="prefetch" href="/lutest/assets/js/202.45b06b33.js"><link rel="prefetch" href="/lutest/assets/js/203.93ec4e0c.js"><link rel="prefetch" href="/lutest/assets/js/204.c3bd1cd6.js"><link rel="prefetch" href="/lutest/assets/js/205.118fb21c.js"><link rel="prefetch" href="/lutest/assets/js/206.c0170849.js"><link rel="prefetch" href="/lutest/assets/js/207.5d1f15b7.js"><link rel="prefetch" href="/lutest/assets/js/208.8e7bf216.js"><link rel="prefetch" href="/lutest/assets/js/209.c7ea67d4.js"><link rel="prefetch" href="/lutest/assets/js/21.9f255a67.js"><link rel="prefetch" href="/lutest/assets/js/210.c4ee63e6.js"><link rel="prefetch" href="/lutest/assets/js/211.a33d4a8a.js"><link rel="prefetch" href="/lutest/assets/js/212.593ace03.js"><link rel="prefetch" href="/lutest/assets/js/213.9e519031.js"><link rel="prefetch" href="/lutest/assets/js/214.fff03cb4.js"><link rel="prefetch" href="/lutest/assets/js/215.4370c0b4.js"><link rel="prefetch" href="/lutest/assets/js/216.41a18deb.js"><link rel="prefetch" href="/lutest/assets/js/217.ac80eab5.js"><link rel="prefetch" href="/lutest/assets/js/218.b7e21ca7.js"><link rel="prefetch" href="/lutest/assets/js/219.36ab4a6d.js"><link rel="prefetch" href="/lutest/assets/js/22.61118860.js"><link rel="prefetch" href="/lutest/assets/js/220.20a87e13.js"><link rel="prefetch" href="/lutest/assets/js/221.4f6cf5e4.js"><link rel="prefetch" href="/lutest/assets/js/222.d8c10255.js"><link rel="prefetch" href="/lutest/assets/js/223.9dadcc71.js"><link rel="prefetch" href="/lutest/assets/js/224.abc70a85.js"><link rel="prefetch" href="/lutest/assets/js/225.630efeec.js"><link rel="prefetch" href="/lutest/assets/js/226.6a16013f.js"><link rel="prefetch" href="/lutest/assets/js/227.54ac477a.js"><link rel="prefetch" href="/lutest/assets/js/228.0613864d.js"><link rel="prefetch" href="/lutest/assets/js/229.b46c0bb4.js"><link rel="prefetch" href="/lutest/assets/js/23.4801e669.js"><link rel="prefetch" href="/lutest/assets/js/230.99851e7c.js"><link rel="prefetch" href="/lutest/assets/js/231.0cb758cd.js"><link rel="prefetch" href="/lutest/assets/js/232.c75c975c.js"><link rel="prefetch" href="/lutest/assets/js/233.58e102cc.js"><link rel="prefetch" href="/lutest/assets/js/234.6e621cca.js"><link rel="prefetch" href="/lutest/assets/js/235.af91ffe1.js"><link rel="prefetch" href="/lutest/assets/js/236.aa7b5bb4.js"><link rel="prefetch" href="/lutest/assets/js/237.9759562f.js"><link rel="prefetch" href="/lutest/assets/js/238.ddcbb846.js"><link rel="prefetch" href="/lutest/assets/js/239.f6fedf2e.js"><link rel="prefetch" href="/lutest/assets/js/24.d9f96d86.js"><link rel="prefetch" href="/lutest/assets/js/240.89bad7ce.js"><link rel="prefetch" href="/lutest/assets/js/241.2bb2e533.js"><link rel="prefetch" href="/lutest/assets/js/242.2facd362.js"><link rel="prefetch" href="/lutest/assets/js/243.4273a51b.js"><link rel="prefetch" href="/lutest/assets/js/244.e1a79f41.js"><link rel="prefetch" href="/lutest/assets/js/245.7047db19.js"><link rel="prefetch" href="/lutest/assets/js/246.0bcbfd13.js"><link rel="prefetch" href="/lutest/assets/js/247.761c3d12.js"><link rel="prefetch" href="/lutest/assets/js/248.564d92cd.js"><link rel="prefetch" href="/lutest/assets/js/249.8bfbc3bc.js"><link rel="prefetch" href="/lutest/assets/js/25.38ffa021.js"><link rel="prefetch" href="/lutest/assets/js/250.9db83fa0.js"><link rel="prefetch" href="/lutest/assets/js/251.9e29cd98.js"><link rel="prefetch" href="/lutest/assets/js/252.46232f04.js"><link rel="prefetch" href="/lutest/assets/js/253.12665a80.js"><link rel="prefetch" href="/lutest/assets/js/254.bc763e10.js"><link rel="prefetch" href="/lutest/assets/js/255.51e2fceb.js"><link rel="prefetch" href="/lutest/assets/js/26.61eedfc1.js"><link rel="prefetch" href="/lutest/assets/js/27.262b1e42.js"><link rel="prefetch" href="/lutest/assets/js/28.c05c6191.js"><link rel="prefetch" href="/lutest/assets/js/29.1fd3ab2f.js"><link rel="prefetch" href="/lutest/assets/js/31.c05bd128.js"><link rel="prefetch" href="/lutest/assets/js/32.fa2080ce.js"><link rel="prefetch" href="/lutest/assets/js/33.90ad4444.js"><link rel="prefetch" href="/lutest/assets/js/34.f41c9b50.js"><link rel="prefetch" href="/lutest/assets/js/35.6c0645c2.js"><link rel="prefetch" href="/lutest/assets/js/36.42d6b1ba.js"><link rel="prefetch" href="/lutest/assets/js/37.94975372.js"><link rel="prefetch" href="/lutest/assets/js/38.9e05f896.js"><link rel="prefetch" href="/lutest/assets/js/39.b2e33d4f.js"><link rel="prefetch" href="/lutest/assets/js/40.b558ff04.js"><link rel="prefetch" href="/lutest/assets/js/41.7fc54cb5.js"><link rel="prefetch" href="/lutest/assets/js/42.77674c59.js"><link rel="prefetch" href="/lutest/assets/js/43.85dac72d.js"><link rel="prefetch" href="/lutest/assets/js/44.4755ac46.js"><link rel="prefetch" href="/lutest/assets/js/45.e5faa52c.js"><link rel="prefetch" href="/lutest/assets/js/46.a0bfd437.js"><link rel="prefetch" href="/lutest/assets/js/47.3b05e92d.js"><link rel="prefetch" href="/lutest/assets/js/48.19c61a76.js"><link rel="prefetch" href="/lutest/assets/js/49.dba95b21.js"><link rel="prefetch" href="/lutest/assets/js/5.6f57952d.js"><link rel="prefetch" href="/lutest/assets/js/50.ec1c8db4.js"><link rel="prefetch" href="/lutest/assets/js/51.279c48ec.js"><link rel="prefetch" href="/lutest/assets/js/52.50004cc9.js"><link rel="prefetch" href="/lutest/assets/js/53.89d7490c.js"><link rel="prefetch" href="/lutest/assets/js/54.7c9601ca.js"><link rel="prefetch" href="/lutest/assets/js/55.5da8ea72.js"><link rel="prefetch" href="/lutest/assets/js/56.3ddd5b57.js"><link rel="prefetch" href="/lutest/assets/js/57.4581a13f.js"><link rel="prefetch" href="/lutest/assets/js/58.32fefc1d.js"><link rel="prefetch" href="/lutest/assets/js/59.9e85ab43.js"><link rel="prefetch" href="/lutest/assets/js/6.b2c8eec7.js"><link rel="prefetch" href="/lutest/assets/js/60.64ab3593.js"><link rel="prefetch" href="/lutest/assets/js/61.d6a37605.js"><link rel="prefetch" href="/lutest/assets/js/62.381f6b44.js"><link rel="prefetch" href="/lutest/assets/js/63.fa58f38a.js"><link rel="prefetch" href="/lutest/assets/js/64.35fd9833.js"><link rel="prefetch" href="/lutest/assets/js/65.80555155.js"><link rel="prefetch" href="/lutest/assets/js/66.df6969ed.js"><link rel="prefetch" href="/lutest/assets/js/67.654d2c26.js"><link rel="prefetch" href="/lutest/assets/js/68.5fba8f43.js"><link rel="prefetch" href="/lutest/assets/js/69.88f51af3.js"><link rel="prefetch" href="/lutest/assets/js/7.04fc8669.js"><link rel="prefetch" href="/lutest/assets/js/70.d83d484b.js"><link rel="prefetch" href="/lutest/assets/js/71.52619ce8.js"><link rel="prefetch" href="/lutest/assets/js/72.38de7dbb.js"><link rel="prefetch" href="/lutest/assets/js/73.46d7b578.js"><link rel="prefetch" href="/lutest/assets/js/74.01cdf0a0.js"><link rel="prefetch" href="/lutest/assets/js/75.3f5c6723.js"><link rel="prefetch" href="/lutest/assets/js/76.1290445f.js"><link rel="prefetch" href="/lutest/assets/js/77.430ba314.js"><link rel="prefetch" href="/lutest/assets/js/78.5067d307.js"><link rel="prefetch" href="/lutest/assets/js/79.40e4e726.js"><link rel="prefetch" href="/lutest/assets/js/8.0b55fcd3.js"><link rel="prefetch" href="/lutest/assets/js/80.85afcd52.js"><link rel="prefetch" href="/lutest/assets/js/81.8e3a8854.js"><link rel="prefetch" href="/lutest/assets/js/82.8e763542.js"><link rel="prefetch" href="/lutest/assets/js/83.cfa7c44e.js"><link rel="prefetch" href="/lutest/assets/js/84.c63d37be.js"><link rel="prefetch" href="/lutest/assets/js/85.2779b01b.js"><link rel="prefetch" href="/lutest/assets/js/86.70e47826.js"><link rel="prefetch" href="/lutest/assets/js/87.8f1c4b6a.js"><link rel="prefetch" href="/lutest/assets/js/88.9b8a4114.js"><link rel="prefetch" href="/lutest/assets/js/89.562f3169.js"><link rel="prefetch" href="/lutest/assets/js/9.816e031f.js"><link rel="prefetch" href="/lutest/assets/js/90.deeae8d3.js"><link rel="prefetch" href="/lutest/assets/js/91.8c614725.js"><link rel="prefetch" href="/lutest/assets/js/92.570ebf03.js"><link rel="prefetch" href="/lutest/assets/js/93.4bd3d05f.js"><link rel="prefetch" href="/lutest/assets/js/94.286929df.js"><link rel="prefetch" href="/lutest/assets/js/95.18018c8f.js"><link rel="prefetch" href="/lutest/assets/js/96.8e645ebe.js"><link rel="prefetch" href="/lutest/assets/js/97.e6959e6f.js"><link rel="prefetch" href="/lutest/assets/js/98.46bbc6d3.js"><link rel="prefetch" href="/lutest/assets/js/99.4d53c140.js">
    <link rel="stylesheet" href="/lutest/assets/css/0.styles.c5cda839.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lutest/" class="home-link router-link-active"><!----> <span class="site-name">Lu notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lutest/" class="nav-link">首页</a></div><div class="nav-item"><a href="/lutest/prepare/" class="nav-link">Prepare</a></div><div class="nav-item"><a href="/lutest/js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/lutest/collection/" class="nav-link">Collection</a></div><div class="nav-item"><a href="/lutest/study2020/" class="nav-link">study2020</a></div><div class="nav-item"><a href="/lutest/brochure/" class="nav-link router-link-active">技术小册</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lutest/" class="nav-link">首页</a></div><div class="nav-item"><a href="/lutest/prepare/" class="nav-link">Prepare</a></div><div class="nav-item"><a href="/lutest/js/" class="nav-link">Js</a></div><div class="nav-item"><a href="/lutest/collection/" class="nav-link">Collection</a></div><div class="nav-item"><a href="/lutest/study2020/" class="nav-link">study2020</a></div><div class="nav-item"><a href="/lutest/brochure/" class="nav-link router-link-active">技术小册</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/React：设计模式和最佳实践/" class="sidebar-heading clickable open"><span>React：设计模式和最佳实践</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/lutest/brochure/React：设计模式和最佳实践/01-React的设计思想.html" class="sidebar-link">01-React的设计思想</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/02-组件实践（1）：如何定义清晰可维护的接口.html" class="sidebar-link">02-组件实践（1）：如何定义清晰可维护的接口</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/03-组件实践（2）：组件的内部实现.html" class="sidebar-link">03-组件实践（2）：组件的内部实现</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/04-组件实践（3）：组件化样式.html" class="active sidebar-link">04-组件实践（3）：组件化样式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/05-组件设计模式（1）：聪明组件和傻瓜组件.html" class="sidebar-link">05-组件设计模式（1）：聪明组件和傻瓜组件</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/06-组件设计模式（2）：高阶组件.html" class="sidebar-link">06-组件设计模式（2）：高阶组件</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/07-组件设计模式（3）：renderProps模式.html" class="sidebar-link">07-组件设计模式（3）：renderProps模式</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/08-组件设计模式（4）：提供者模式.html" class="sidebar-link">08-组件设计模式（4）：提供者模式</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/09-组件设计模式（5）：组合组件.html" class="sidebar-link">09-组件设计模式（5）：组合组件</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/10-React单元测试.html" class="sidebar-link">10-React单元测试</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/11-React状态管理（1）：组件状态.html" class="sidebar-link">11-React状态管理（1）：组件状态</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/12-React状态管理（2）：Redux使用模式.html" class="sidebar-link">12-React状态管理（2）：Redux使用模式</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/13-React状态管理（3）：Mobx使用模式.html" class="sidebar-link">13-React状态管理（3）：Mobx使用模式</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/14-React状态管理（4）：不同方式对比.html" class="sidebar-link">14-React状态管理（4）：不同方式对比</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/15-路由的魔法：ReactRouter.html" class="sidebar-link">15-路由的魔法：ReactRouter</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/16-服务器端渲染（1）：基本套路.html" class="sidebar-link">16-服务器端渲染（1）：基本套路</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/17-服务器端渲染（2）：理解Next.js.html" class="sidebar-link">17-服务器端渲染（2）：理解Next.js</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/18-React的未来（1）：拥抱异步渲染.html" class="sidebar-link">18-React的未来（1）：拥抱异步渲染</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/19-React的未来（2）：Suspense带来的异步操作革命.html" class="sidebar-link">19-React的未来（2）：Suspense带来的异步操作革命</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/20-React的未来（3）：函数化的Hooks.html" class="sidebar-link">20-React的未来（3）：函数化的Hooks</a></li><li><a href="/lutest/brochure/React：设计模式和最佳实践/21-结语.html" class="sidebar-link">21-结语</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/Vue.js组件精讲/" class="sidebar-heading clickable"><span>Vue.js组件精讲</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/Vue3.0前瞻/" class="sidebar-heading clickable"><span>Vue3.0前瞻</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/中高级前端必备知识/" class="sidebar-heading clickable"><span>中高级前端必备知识</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/前端性能优化原理与实践/" class="sidebar-heading clickable"><span>前端性能优化原理与实践</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/源码分析/" class="sidebar-heading clickable"><span>源码分析</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/趣谈Linux/" class="sidebar-heading clickable"><span>趣谈Linux</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/重学前端/" class="sidebar-heading clickable"><span>重学前端</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/lutest/brochure/零基础学透TypeScript/" class="sidebar-heading clickable"><span>零基础学透TypeScript</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="组件实践-3-组件化样式"><a href="#组件实践-3-组件化样式" class="header-anchor">#</a> 组件实践（3）：组件化样式</h1> <p>在上一节中，我们创造了“秒表”组件，但是那个“秒表”的样式很粗糙，因为我们只实现了功能，而不关注样式。并不是说样式不重要，实际上，样式美观是前端开发的一个重要部分，只是做事有先有后，用渐进式开发的原则，先搞定功能，然后再来处理样式。</p> <p>在这一节中，我们要探讨如何给 React 组件增加样式，让“秒表”这个应用看起来更美观。</p> <h3 id="react-带来的对样式管理革命"><a href="#react-带来的对样式管理革命" class="header-anchor">#</a> React 带来的对样式管理革命</h3> <hr> <p>在我刚入行的时候，业界对前端开发普遍有这样的认知，把网页应用分为三层，分别是用 HTML 实现的“内容”，用 CSS 实现的“样式”，还有用 JavaScript 实现的“动态行为”。
<img src="https://img1.yixinfinance.com/wiki/images/166c526a3da8fdfc" alt=""></p> <p>就像上面这样，构建一个网页应用，首先用 HTML 展示内容。比如，我们展示一个新闻，首先用 HTML 的 <code>p</code> 标签展示文字，用 <code>img</code>   标签展示图片，这样，即使没有 CSS 和 JavaScript，至少用户还可以看见新闻内容。</p> <p>当然，单纯只有 HTML，那网页内容也太枯燥了，所以还是需要 CSS 来增加一些多彩的样式，修改一下字体、颜色、阴影之类，这是第二层的功能。</p> <p>最后，进一步提高用户体验，就要 JavaScript 上场了，在 HTML 和 CSS 的基础上赋予网页动态交互的功能，比如给新闻网页增加一个“点赞”的功能，这是 HTML 和 CSS 无法做到的。</p> <p>按照这样“内容”-&gt;“样式”-&gt;“动态功能”的方式渐进增强（Progressive Enhancement），是非常正确的思想。但是，长期以来，实现方式存在问题，问题就是 HTML、CSS 和 JavaScript 被分开管理了。</p> <p>如果你在 React 诞生之前从事过网页开发，肯定有这样的体会。为了修改一个功能，需要牵扯到 HTML、CSS 和 JavaScript 的修改，但是这三部分分别属于不同的文件，明明是一个功能，你却要去修改至少三个文件。</p> <p>在软件开发中，同一个功能相关的代码最好放在一个地方，这就是高内聚性（High Cohesiveness）。把网页功能分在 HTML、CSS 和 JavaScript 中，明显背离了高内聚性的原则，但是我们也忍受了这个做法这么多年，直到 React 出现。</p> <p>在实现“秒表”的时候，我们已经可以看到，“内容”和“动态功能”已经混合在一起，换句话说，长得很像 HTML 的 JSX 负责产生“内容”，和各种响应用户输入的 JavaScript 代码共同存在于 React 组件之中。</p> <p>在 React 中，当你要修改一个功能的内容和行为时，在一个文件中就能完成，这样就达到了高内聚的要求。</p> <p>那么，在 React 中又是如何处理样式的呢？</p> <p>我们先从组件的 style 属性开始，最后过渡到组件式的样式。</p> <h4 id="style-属性"><a href="#style-属性" class="header-anchor">#</a> style 属性</h4> <p>在上一小节实现的“秒表”中，虽然功能齐备，但是展示上有一个大问题，就是当时钟开始运转之后，因为各个数字的宽度不同，比如<code>1</code> 就没有 <code>0</code> 宽，导致时间宽度忽大忽小，产生闪烁效果，这样看起来很不专业。</p> <p>为了解决这个问题，我们就需要定制 MajorClock 的样式。</p> <p>最简单也是最直接的方法，就是给对应的 React 元素增加 style 属性，属性值为一个普通的 JavaScript 对象，如下所示：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const MajorClock = ({milliseconds=0}) =&gt; {
  const style = {
   ``'font-family': 'monospace'``
  };
  return &lt;h1 style={style}&gt;{ms2Time(milliseconds)}&lt;/h1&gt;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在上面的例子中，我们把 MajorClock 中的 <code>h1</code> 元素的 <code>font-family</code> 设为 <code>monospace</code>,<code>monospace</code> 是等宽字体，这样所有数字所占宽度相同，数字变化起来的时候宽度也就不会发生变化了，效果图如下：
<img src="https://img1.yixinfinance.com/wiki/images/165fa9eb6ad9b021" alt="">
你可能也见过有人像下面这么写：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const MajorClock = ({milliseconds=0}) =&gt; {
  return &lt;h1 style={{
    'font-family': 'monospace'
  }}&gt;{ms2Time(milliseconds)}&lt;/h1&gt;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面这种写法，并不好。因为每次渲染 MajorClock 组件都会创建一个新的 style 对象，纯粹就是浪费。</p> <p>如果 style 对象每次都是一样的，最好把它提取到组件之外，这样就可以重用一个对象，像下面这样：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const clockStyle = {
  'font-family': 'monospace'
};

const MajorClock = ({milliseconds=0}) =&gt; {
  return &lt;h1 style={clockStyle}&gt;{ms2Time(milliseconds)}&lt;/h1&gt;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="导入-css-文件"><a href="#导入-css-文件" class="header-anchor">#</a> 导入 CSS 文件</h4> <p>长期来，前端开发者都习惯了使用 CSS 来定制样式，React 也支持这种做法。</p> <p>我们以 ControlButtons 为例，改进控制按钮的样式。</p> <p>为了配合 CSS，我们要在 ControlButtons 的 JSX 中让渲染出来的 DOM 元素包含 class。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const ControlButtons = ({activated, onStart, onPause, onReset, onSplit}) =&gt; {
  if (activated) {
    return (
      &lt;div&gt;
        &lt;button className=&quot;left-btn&quot; onClick={onSplit}&gt;计次&lt;/button&gt;
        &lt;button className=&quot;right-btn&quot; onClick={onPause}&gt;停止&lt;/button&gt;
      &lt;/div&gt;
    );
  } else {
    return (
      &lt;div&gt;
        &lt;button className=&quot;left-btn&quot; onClick={onReset}&gt;复位&lt;/button&gt;
        &lt;button className=&quot;right-btn&quot; onClick={onStart}&gt;启动&lt;/button&gt;
      &lt;/div&gt;
    );
  }
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>值得一提的是，虽然最终产生的 DOM 或者 HTML 中属性为 class，在 JSX 中不能用 class，要用 className 来指定元素的类名。</p> <p>然后，我们在 <code>ControlButtons.js</code> 中增加下面这样，导入一个同目录下的 <code>ControlButtons.css</code> 文件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import &quot;./ControlButtons.css&quot;;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>create-react-app 会用 webpack 完成打包过程，只要 JavaScript 文件中应用的资源，都会被打包进最终的文件，所以，<code>ControlButtons.css</code> 中的样式规则就会被应用。</p> <p><code>ControlButtons.css</code> 中的内容如下:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.left-btn, .right-btn {
  border-radius: 50%;
  width: 70px;
  height: 70px;
}

.left-btn {
  margin: 0 35px 0 0;
}

.right-btn {
  margin: 0 0 0 35px;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>最终的效果图如下：
<img src="https://img1.yixinfinance.com/wiki/images/165fa9f6bcc7d06c" alt=""></p> <p>可以看到，按钮之间有了合适的距离，而且边缘也和 iPhone 上的“秒表”一样显示为圆形。</p> <p>你已经做到接近 iPhone 外观的“秒表”应用了，给自己鼓鼓掌吧！</p> <h5 id="组件式的样式"><a href="#组件式的样式" class="header-anchor">#</a> 组件式的样式</h5> <p>对比使用 style 属性和导入 CSS 两种方法，可以看出各有优缺点。</p> <p>使用 style 属性，好处是可以将样式应用到每个元素，互相不干扰；缺点就是非常不简洁，如果你想要定制一个元素的样式，必须给这个元素加 style 属性。</p> <p>比如，我们想让 MajorClock 中的 <code>h1</code> 元素字体为 <code>monospace，使用</code> style 属性来实现，就要给 <code>h1</code> 加上 style，如果只有一个 <code>h1</code> 元素还好应付，如果很多 <code>h1</code> 元素，就非常麻烦。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const style={
  'font-family': 'monospace'
};

  &lt;h1 style={style}&gt;...&lt;/h1&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>相反，用 CSS 表达复杂的样式规则很容易，比如，上一段提到的样式，用 CSS 轻松可以实现，而且不用给每个 <code>h1</code> 加什么 style 属性。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>h1 {
  font-family: monospace;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>不过，CSS 也有它的缺点，CSS 定义的样式是全局的，这样很容易失控，比如上面的 CSS 规则，一旦导入，那么所有的 <code>h1</code> 都具备这样的样式，即使不在 MajorClock 中的<code>h1</code> 元素，一样被 MajorClock 导入的 CSS 文件影响。</p> <p>为了解决不同模块之间 CSS 互相干扰的问题，前端开发者想出了好多种解决方法，基本原则就是给 CSS 规则增加更加特定的限制。比如，要限定上面的 CSS 规则只作用于 MajorClock 中的 <code>h1</code> 元素，就要这样来写一个 <code>MajorClock.css</code>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.clock h1 {
  font-family: monospace;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>但是，你也需要修改 MajorClock 的 JSX，让 <code>h1</code> 包含在一个类名为 <code>clock</code> 的元素中。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import &quot;./MajorClock.css&quot;;

const MajorClock = ({milliseconds=0}) =&gt; {
  return (
    &lt;div class=&quot;clock&quot;&gt;
     &lt;h1 style={clockStyle}&gt;{ms2Time(milliseconds)}&lt;/h1&gt;
    &lt;/div&gt;
  );
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这样当然可行，但是，开发者不好处理 JSX 和 CSS 之间的关系，而且，就像在上面说过的，这样违背高内聚的原则。当你需要修改一个组件时，要被迫去分别修改 JavaScript 文件 和 CSS 文件，明显不是最优的方法。</p> <p>我曾说过，在 React 的世界中，一切都是组件，所以很自然诞生了组件化的样式(Component Style）。</p> <p>组件化样式的实现方式很多，这里我们介绍最容易理解的一个库，叫做 <code>styled-jsx</code>。</p> <h4 id="添加-styled-jsx-支持"><a href="#添加-styled-jsx-支持" class="header-anchor">#</a> 添加 styled-jsx 支持</h4> <p>要使用 styled-jsx，必须要修改 webpack 配置，一般来说，对于用 create-react-app 创建的应用，需要用 <code>eject</code> 方法来“弹射”出配置文件，只是，<code>eject</code> 指令是不可逆的，不到万不得已，我们还是不要轻易“弹射”。</p> <p>一个更简单的方式，是使用 <code>react-app-rewired</code>，不需要 <code>eject</code>，轻轻松松就能够修改 create-react-app 产生应用的配置方法。</p> <p>首先，我们在项目中安装 react-app-rewired 和 styled-jsx。如果读者使用的是npm v5之前的版本，最好添加<code>--save</code>参数用于修改<code>package.json</code>，如果使用npm v5之后版本，则无需添加<code>--save</code>参数。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install react-app-rewired styled-jsx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后，打开 <code>package.json</code> 文件，找到 <code>scripts</code> 这个部分，应该是下面这样：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>   &quot;scripts&quot;: {
     &quot;start&quot;: &quot;react-scripts start&quot;,
     &quot;build&quot;: &quot;react-scripts build&quot;,
     &quot;test&quot;: &quot;react-scripts test --env=jsdom&quot;,
     &quot;eject&quot;: &quot;react-scripts eject&quot;
   }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>当我们在命令行执行 <code>npm start</code> 时，执行的就是 <code>scripts</code> 部分定义的指令，可以看到都是执行 <code>react-scripts</code>。</p> <p>在这里还可以看到 <code>eject</code> 指令的定义，我们做这个修改，恰恰就是为避免使用 <code>eject</code>。</p> <p>我们修改 <code>scripts</code> 部分的代码如下:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>   &quot;scripts&quot;: {
    &quot;start&quot;: &quot;react-app-rewired start&quot;,
    &quot;build&quot;: &quot;react-app-rewired build&quot;,
    &quot;test&quot;: &quot;react-app-rewired test --env=jsdom&quot;,
    &quot;eject&quot;: &quot;react-scripts eject&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>修改的方法其实就是把 <code>start</code>、<code>build</code> 和 <code>test</code> 对应脚本中的 <code>react-scripts</code> 替换为 <code>react-app-rewired</code>，之后，当用 npm 执行这些指令的时候，就会使用 react-app-rewired。</p> <p>react-app-rewired 扩展了 react-scripts 的功能，可以从当前目录的 <code>config-overrides.js</code> 文件中读取配置，扩充 react-scripts 的功能。</p> <p>我们需要让 react-scripts 支持 styled-jsx，对应只需要在项目根目录增加一个 <code>config-overrides.js</code> 文件，内容如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { injectBabelPlugin } = require('react-app-rewired');

module.exports = function override(config, env) {
  config = injectBabelPlugin(['styled-jsx/babel'], config);

  return config;
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面 config-overrides.js 文件中的逻辑很简单，就是把 <code>styled-jsx/babel</code> 注入到 react-scripts 的基本配置中去，然后，我们的应用就支持 styled-jsx 了。</p> <p>使用 styled-jsx 定制样式
有了 styled-jsx 中，我们就可以在 JSX 中用 <code>style jsx</code> 标签直接添加 CSS 规则。</p> <p>比如，我们要给 MajorClock 中的 <code>h1</code> 增加 CSS 规则，可以这样使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const MajorClock = ({milliseconds=0}) =&gt; {
  return (
    &lt;React.Fragment&gt;
      &lt;style jsx&gt;{`
        h1 {
          font-family: monospace;
        }
      `}&lt;/style&gt;
      &lt;h1&gt;
        {ms2Time(milliseconds)}
      &lt;/h1&gt;
    &lt;/React.Fragment&gt;
  );
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>注意紧贴 style jsx 内部的是一对大括号，大括号代表里面是一段 JavaScript 的表达式，再往里，是一对符号，代表中间是一段多行的字符串，也就是说，style jsx 包裹的是一个字符串表达式，而这个字符串就是 CSS 规则。</p> <p>在 MajorClock 中用 style jsx 添加的 CSS 规则，只作用于 MajorClock 的 JSX 中出现的元素，不会影响其他的组件。</p> <p>你可以尝试在其他组件中添加 <code>h1</code> 元素，也可以尝试在其他组件中添加 <code>style jsx</code> 标签来定制 <code>h1</code> 的样式，会发现和 MajorClock 完全是井水不犯河水，互不影响。</p> <p>我在 StopWatch 中添加一个 <code>h1</code> 元素，内容就是“秒表”，然后用 <code>style jsx</code> 把 <code>h1</code> 的颜色设为绿色，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  render() {
    return (
      &lt;Fragment&gt;
        &lt;style jsx&gt;{`
          h1 {
            color: green;
          }
        `}&lt;/style&gt;
        &lt;h1&gt;秒表&lt;/h1&gt;
        &lt;MajorClock
          milliseconds={this.state.currentTime - this.state.startTime}
          activated={this.state.isStarted}
        /&gt;
   ... 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>界面效果如下，可以看到，StopWatch 中的 <code>h1</code> 字体不是 monospace，MajorClock 中的 color 也不是绿色。
<img src="https://img1.yixinfinance.com/wiki/images/165fa9ff7210a4f8" alt="">
不同的 styled jsx 互不影响
可见，styled jsx 中虽然使用了 CSS，但是这些 CSS 规则只作用于所在组件中的样式，甚至不会影响子组件的样式。</p> <p>这样一来，我们既可以使用 CSS 的语法，又可以把 CSS 的作用域限定在一个组件之内，达到了高内聚的要求。</p> <h4 id="动态-styled-jsx"><a href="#动态-styled-jsx" class="header-anchor">#</a> 动态 styled jsx</h4> <p>更妙的是，我们还可以动态修改 styled jsx 中的值，因为 styled jsx 的内容就是字符串，我们只要修改其中的字符串，就修改了样式效果。</p> <p>比如，我们让 MajorClock 在开始计时状态显示红色，否则显示黑色，修改代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const MajorClock = ({milliseconds=0, activated=false}) =&gt; {
  return (
    &lt;React.Fragment&gt;
      &lt;style jsx&gt;{`
        h1 {
          color: ${activated? 'red' : 'black'};
          font-family: monospace;
        }
      `}&lt;/style&gt;
      &lt;h1&gt;
        {ms2Time(milliseconds)}
      &lt;/h1&gt;
    &lt;/React.Fragment&gt;
  );
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>在 style jsx 中，<code>color</code> 后面的值不是固定的，利用 ES6 的字符串模板功能，我们可以根据 activated 的值动态决定是 red 还是 black，最终效果图如下：
<img src="https://img1.yixinfinance.com/wiki/images/165faa056e96b042" alt="">
动态 styled jsx
大家可以尝试用 style jsx 进一步定制“秒表”的样式，从中体会“组件式样式”的方便之处。</p> <h4 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h4> <hr> <p>本小节介绍了 React 中的样式实现方法，读者应该掌握：</p> <ol><li>React 将内容、样式和动态功能聚集在一个模块中，是高聚合的表现；</li> <li>React 原生 style 属性的用法；</li> <li>组件化样式 styled jsx 的用法。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/lutest/brochure/React：设计模式和最佳实践/03-组件实践（2）：组件的内部实现.html" class="prev">03-组件实践（2）：组件的内部实现</a></span> <span class="next"><a href="/lutest/brochure/React：设计模式和最佳实践/05-组件设计模式（1）：聪明组件和傻瓜组件.html">05-组件设计模式（1）：聪明组件和傻瓜组件</a>
      →
    </span></p></div> </main> <span data-v-2ae0ee72></span></div><div class="global-ui"></div></div>
    <script src="/lutest/assets/js/app.ebd1d23d.js" defer></script><script src="/lutest/assets/js/3.6f79f3df.js" defer></script><script src="/lutest/assets/js/4.2436b720.js" defer></script><script src="/lutest/assets/js/30.7fc64696.js" defer></script>
  </body>
</html>
